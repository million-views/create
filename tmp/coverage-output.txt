
> @m5nv/create-scaffold@0.6.0 test:coverage
> c8 --reporter=json-summary --reporter=text --reports-dir tmp/c8-baseline npm test


> @m5nv/create-scaffold@0.6.0 test
> node ./scripts/test-runner.mjs

ğŸš€ Running Complete Test Suite for @m5nv/create-scaffold
============================================================

ğŸ§ª Security Tests
   Security validation for new IDE and features parameters
âœ” Options parameter rejects path traversal attempts (3.463984ms)
âœ” Options parameter rejects injection attempts (0.579656ms)
âœ” Options parameter rejects null byte injection (0.542155ms)
âœ” Options parameter rejects malicious combinations (0.444423ms)
âœ” Options parameter guards against resource exhaustion (0.380272ms)
âœ” validateAllInputs processes safe payloads correctly (2.446392ms)
âœ” validateAllInputs accumulates multiple validation failures (0.664019ms)
âœ” validateAllInputs ignores undefined optional parameters (0.284496ms)
âœ” Validation functions do not expose environment variables (0.402754ms)
âœ” Validation functions do not leak system paths or IP addresses (0.428728ms)
âœ” Input sanitization withstands Unicode and encoded attacks (0.521129ms)
â„¹ tests 11
â„¹ suites 0
â„¹ pass 11
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 175.880776
âœ… Security Tests - 273ms

ğŸ§ª BoundaryValidator Tests
   Path boundary enforcement and traversal prevention
â–¶ BoundaryValidator
  â–¶ Construction
    âœ” creates validator with absolute allowed root (9.964562ms)
    âœ” resolves relative allowed root to absolute (1.432578ms)
  âœ” Construction (12.958281ms)
  â–¶ validatePath() - Valid Paths
    âœ” allows paths within allowed root (2.35033ms)
    âœ” allows absolute paths within allowed root (1.55942ms)
    âœ” allows path exactly at root (1.881624ms)
    âœ” allows nested paths (1.307883ms)
    âœ” normalizes redundant path segments (1.602783ms)
  âœ” validatePath() - Valid Paths (9.377747ms)
  â–¶ validatePath() - Path Traversal Prevention
    âœ” blocks ../ traversal out of root (5.961435ms)
    âœ” blocks multiple ../ traversals (2.869179ms)
    âœ” blocks traversal via allowed path then escape (5.951054ms)
    âœ” blocks absolute paths outside root (1.827184ms)
    âœ” allows ../ that stays within root (2.221132ms)
  âœ” validatePath() - Path Traversal Prevention (19.585389ms)
  â–¶ validatePath() - Null Byte Injection Prevention
    âœ” blocks null byte in path (2.038293ms)
    âœ” blocks null byte at start (1.947169ms)
    âœ” blocks null byte at end (1.676164ms)
  âœ” validatePath() - Null Byte Injection Prevention (6.097175ms)
  â–¶ validatePath() - Input Validation
    âœ” rejects non-string input (2.523004ms)
    âœ” rejects null input (2.792123ms)
    âœ” rejects undefined input (1.409879ms)
    âœ” rejects object input (1.599702ms)
  âœ” validatePath() - Input Validation (9.369952ms)
  â–¶ validatePath() - Error Details
    âœ” error includes operation name (3.037896ms)
    âœ” error includes user path (2.300585ms)
    âœ” error includes resolved path for traversal (3.886538ms)
    âœ” error includes allowed root (2.776819ms)
  âœ” validatePath() - Error Details (12.564378ms)
  â–¶ validatePaths() - Batch Validation
    âœ” validates multiple paths (1.828467ms)
    âœ” throws on first invalid path (3.226129ms)
    âœ” handles empty array (1.16732ms)
  âœ” validatePaths() - Batch Validation (6.571961ms)
  â–¶ getBasename()
    âœ” extracts basename from path (2.271212ms)
    âœ” extracts basename from absolute path (1.083929ms)
    âœ” handles path with no directory (1.815903ms)
    âœ” blocks traversal attempts in getBasename (1.340366ms)
  âœ” getBasename() (6.954656ms)
  â–¶ getAllowedRoot()
    âœ” returns allowed root path (2.79721ms)
    âœ” returns absolute path (1.380257ms)
  âœ” getAllowedRoot() (4.513171ms)
  â–¶ Security Edge Cases
    âœ” blocks Windows-style absolute path on Unix (4.450718ms)
    âœ” handles empty string gracefully (1.378369ms)
    âœ” handles path with spaces (0.95055ms)
    âœ” handles path with unicode characters (0.859089ms)
    âœ” blocks symlink-like patterns (..../ which is valid filename) (0.984705ms)
  âœ” Security Edge Cases (9.000917ms)
  â–¶ BoundaryViolationError
    âœ” is instance of Error (1.667928ms)
    âœ” has correct name (0.970941ms)
    âœ” stores custom properties (1.489645ms)
  âœ” BoundaryViolationError (4.408277ms)
âœ” BoundaryValidator (103.085605ms)
â„¹ tests 40
â„¹ suites 12
â„¹ pass 40
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1222.886437
âœ… BoundaryValidator Tests - 1318ms

ğŸ§ª Registry Cache Manager Tests
   Template registry metadata caching with LRU eviction
â–¶ RegistryCacheManager
  â–¶ Initialization
    âœ” initializes successfully and creates cache directory (9.098429ms)
    âœ” emits initialized event on successful init (2.368771ms)
    âœ” handles initialization failure gracefully (1.591465ms)
    âœ” does not reinitialize if already initialized (1.58881ms)
  âœ” Initialization (16.221456ms)
  â–¶ Basic Cache Operations
    âœ” set() stores data in memory cache (9.896645ms)
    âœ” set() emits cache:set event with key and size (5.732073ms)
    âœ” get() returns null for non-existent key (1.743682ms)
    âœ” get() emits cache:miss for non-existent key (1.566102ms)
    âœ” get() emits cache:hit for existing key (4.296286ms)
    âœ” delete() removes entry from memory cache (6.893719ms)
    âœ” delete() emits cache:deleted event (4.991682ms)
    âœ” clear() removes all cache entries (8.545054ms)
    âœ” clear() emits cache:cleared event with count (7.950432ms)
  âœ” Basic Cache Operations (52.449477ms)
  â–¶ TTL and Expiration
    âœ” expired entries are automatically removed on get() (155.585341ms)
    âœ” get() emits cache:expired for expired entries (104.787018ms)
    âœ” cleanup() removes all expired entries (106.681656ms)
    âœ” cleanup() emits cache:cleanup event with count (107.397135ms)
  âœ” TTL and Expiration (474.799322ms)
  â–¶ Disk Persistence
    âœ” set() persists entry to disk (6.40931ms)
    âœ” getStats() reflects persisted entries (4.959153ms)
    âœ” cache survives reinitialization from disk (4.036943ms)
    âœ” corrupted cache is handled gracefully on reinitialization (3.342816ms)
  âœ” Disk Persistence (19.091567ms)
  â–¶ LRU Eviction
    âœ” evicts old entries when cache size limit is reached (5.748397ms)
    âœ” eviction emits cache:evicted event (5.986877ms)
  âœ” LRU Eviction (11.979375ms)
  â–¶ Cache Statistics
    âœ” getStats() returns current cache statistics (5.977955ms)
    âœ” getStats() counts expired entries correctly (105.595956ms)
  âœ” Cache Statistics (111.798594ms)
  â–¶ Cache Disabled Mode
    âœ” operations are no-ops when cache is disabled (1.32005ms)
  âœ” Cache Disabled Mode (1.4629ms)
  â–¶ Shutdown
    âœ” shutdown() saves metadata and emits event (5.674668ms)
    âœ” shutdown() persists cache state to disk (6.473675ms)
  âœ” Shutdown (12.475341ms)
  â–¶ Additional Edge Cases
    âœ” delete() handles non-existent entry gracefully (2.11908ms)
    âœ” clear() handles empty cache (2.638827ms)
    âœ” get() updates lastAccessed timestamp for LRU (14.309719ms)
    âœ” set() with custom TTL overrides default maxAge (3.237717ms)
    âœ” getStats() calculates hit rate correctly (4.2187ms)
    âœ” loadFromDisk() returns null for non-existent file (2.459253ms)
  âœ” Additional Edge Cases (29.612174ms)
âœ” RegistryCacheManager (731.461816ms)
â„¹ tests 34
â„¹ suites 10
â„¹ pass 34
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 889.88063
âœ… Registry Cache Manager Tests - 994ms

ğŸ§ª Environment Module Tests
   Environment object factory and test utilities
â–¶ Environment Module
  â–¶ createContext()
    âœ” should create a context with required parameters (2.081477ms)
    âœ” should use custom cwd when provided (0.172069ms)
    âœ” should accept custom authoring mode (0.152355ms)
    âœ” should accept custom authorAssetsDir (0.142032ms)
    âœ” should freeze inputs and constants (0.711987ms)
    âœ” should freeze the entire context object (0.269346ms)
    âœ” should throw ContextValidationError for missing projectName (0.244724ms)
    âœ” should throw ContextValidationError for empty projectName (0.175285ms)
    âœ” should throw ContextValidationError for missing projectDirectory (0.224282ms)
    âœ” should throw ContextValidationError for invalid authoring mode (0.175795ms)
  âœ” createContext() (5.707781ms)
  â–¶ isContext()
    âœ” should return true for valid context (0.252257ms)
    âœ” should return false for null (0.116763ms)
    âœ” should return false for undefined (0.090119ms)
    âœ” should return false for object missing required properties (0.102996ms)
    âœ” should return false for object with wrong types (0.118898ms)
    âœ” should return true for manually constructed valid object (0.123997ms)
  âœ” isContext() (1.116276ms)
  â–¶ ContextValidationError
    âœ” should have correct name (0.159222ms)
    âœ” should include message (0.11969ms)
    âœ” should be instanceof Error (0.199352ms)
  âœ” ContextValidationError (0.623808ms)
  â–¶ DEFAULT_AUTHOR_ASSETS_DIR
    âœ” should equal __scaffold__ (0.110407ms)
  âœ” DEFAULT_AUTHOR_ASSETS_DIR (0.194854ms)
  â–¶ DEFAULT_AUTHORING_MODE
    âœ” should equal wysiwyg (0.119556ms)
  âœ” DEFAULT_AUTHORING_MODE (0.199232ms)
âœ” Environment Module (8.679142ms)
â–¶ Testing Utilities
  â–¶ TEST_DEFAULTS
    âœ” should have expected default values (0.147405ms)
    âœ” should be frozen (0.148129ms)
  âœ” TEST_DEFAULTS (0.43008ms)
  â–¶ createTestContext()
    âœ” should create a valid context with defaults (0.264395ms)
    âœ” should allow overriding projectName (0.147407ms)
    âœ” should allow overriding inputs (0.137711ms)
    âœ” should allow overriding multiple properties (0.135913ms)
  âœ” createTestContext() (0.884534ms)
  â–¶ createTestLogger()
    âœ” should create a logger with info and warn methods (0.255682ms)
    âœ” should capture info calls (0.338314ms)
    âœ” should capture warn calls (0.218024ms)
    âœ” should keep info and warn calls separate (0.1191ms)
  âœ” createTestLogger() (1.113711ms)
  â–¶ createSilentLogger()
    âœ” should create a logger with info and warn methods (0.16201ms)
    âœ” should not throw when called (0.241411ms)
  âœ” createSilentLogger() (0.516405ms)
âœ” Testing Utilities (3.208521ms)
â–¶ Tools Module
  â–¶ createTools()
    âœ” should create tools with required projectDirectory (1.006636ms)
    âœ” should create tools with custom inputs (0.294585ms)
  âœ” createTools() (1.529492ms)
  â–¶ isTools()
    âœ” should return true for valid tools object (0.264298ms)
    âœ” should return false for null (0.09035ms)
    âœ” should return false for undefined (0.088318ms)
    âœ” should return false for object missing required APIs (0.114337ms)
  âœ” isTools() (0.739109ms)
  â–¶ createTestTools()
    âœ” should create tools with defaults (0.263926ms)
    âœ” should throw if projectDirectory is missing (0.349963ms)
  âœ” createTestTools() (0.740768ms)
  â–¶ createTestEnvironment()
    âœ” should create both ctx and tools (0.357353ms)
    âœ” should use consistent values between ctx and tools (0.200993ms)
    âœ” should throw if projectDirectory is missing (0.196014ms)
    âœ” should return frozen environment object (0.20211ms)
  âœ” createTestEnvironment() (1.25138ms)
âœ” Tools Module (38.977279ms)
â„¹ tests 45
â„¹ suites 16
â„¹ pass 45
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 195.297175
âœ… Environment Module Tests - 292ms

ğŸ§ª Environment Tools Tests
   L2 tools API (files, json, text, templates, placeholders, inputs, options)
â–¶ tools.files API
  âœ” copy() copies files and directories (17.026ms)
  âœ” move() renames files (5.438839ms)
  âœ” remove() deletes files (4.848341ms)
  âœ” write() creates new files (6.067155ms)
âœ” tools.files API (35.233252ms)
â–¶ tools.json API
  âœ” read() returns parsed JSON (4.862321ms)
  âœ” set() updates nested paths (7.989413ms)
  âœ” set() supports array index notation in path (5.17586ms)
  âœ” addToArray() appends items (9.526739ms)
  âœ” remove() deletes JSON keys (6.012463ms)
  âœ” update() applies transform function (6.410029ms)
  âœ” mergeArray() merges array items by key (8.313827ms)
âœ” tools.json API (49.014106ms)
â–¶ tools.text API
  âœ” replace() substitutes content (8.154698ms)
  âœ” insertAfter() inserts content after marker (6.929979ms)
  âœ” insertAfter() requires non-empty marker (3.657498ms)
  âœ” insertAfter() throws when target file not found (2.979713ms)
  âœ” insertAfter() throws when marker not found (5.403543ms)
  âœ” replaceBetween() replaces content between markers (5.294512ms)
  âœ” replaceBetween() requires non-empty start and end markers (3.348726ms)
  âœ” replaceBetween() throws when start marker not found (4.761496ms)
  âœ” replaceBetween() throws when end marker not found (5.060528ms)
  âœ” ensureBlock() is idempotent (6.334158ms)
  âœ” appendLines() adds lines to file (5.394643ms)
  âœ” insertAfter() requires block entries to be strings (5.938939ms)
  âœ” replaceBetween() requires block to be string or string array (4.461261ms)
  âœ” replace() with ensureMatch throws if no match found (3.503004ms)
  âœ” replace() allows no match when ensureMatch is false (4.278022ms)
  âœ” replace() requires replacement value to be a string (5.344137ms)
  âœ” replace() handles file not found errors (3.023225ms)
âœ” tools.text API (85.747543ms)
â–¶ tools.templates API
  âœ” renderString() applies placeholder replacements (4.428067ms)
  âœ” renderFile() renders template with data (6.077419ms)
  âœ” copy() copies template assets to project (13.821296ms)
  âœ” renderString() requires template string (3.922577ms)
  âœ” renderString() requires data object (2.876712ms)
  âœ” renderFile() requires data object (2.893773ms)
âœ” tools.templates API (34.577002ms)
â–¶ tools.placeholders API
  âœ” applyInputs() replaces placeholders in files (8.47031ms)
  âœ” replaceAll() replaces custom placeholders (6.737902ms)
  âœ” replaceInFile() replaces placeholders in single file (4.836019ms)
  âœ” replaceAll() requires replacements object (6.987258ms)
  âœ” replaceAll() requires string replacement values (3.83238ms)
âœ” tools.placeholders API (31.319915ms)
â–¶ tools.inputs API
  âœ” get() returns input value with fallback (3.284294ms)
  âœ” all() returns frozen clone of all inputs (3.254195ms)
âœ” tools.inputs API (6.771248ms)
â–¶ tools.options API
  âœ” when() executes callback if option enabled (4.743572ms)
  âœ” when() skips callback if option not enabled (2.95172ms)
  âœ” has() checks if default dimension includes value (2.597643ms)
  âœ” in() checks if dimension includes value (2.823925ms)
  âœ” require() throws if value not selected (3.323956ms)
  âœ” list() returns options for dimension (5.569074ms)
  âœ” raw() returns raw option strings (3.105295ms)
  âœ” dimensions() returns byDimension clone (2.765596ms)
âœ” tools.options API (28.53497ms)
â„¹ tests 49
â„¹ suites 7
â„¹ pass 49
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 426.358014
âœ… Environment Tools Tests - 516ms

ğŸ§ª Error Classes Tests
   Custom error class instantiation and properties
â–¶ Error Classes
  â–¶ ArgumentError
    âœ” creates error with message only (1.965714ms)
    âœ” creates error with field option (0.198791ms)
    âœ” creates error with suggestions option (0.204264ms)
    âœ” creates error with both field and suggestions (0.159575ms)
    âœ” handles empty options object (0.152098ms)
    âœ” handles undefined field in options (0.312042ms)
    âœ” handles null suggestions in options (0.190571ms)
    âœ” handles undefined suggestions in options (0.142269ms)
    âœ” preserves error stack trace (0.352018ms)
  âœ” ArgumentError (5.128482ms)
  â–¶ PreflightError
    âœ” creates error with message only (0.304142ms)
    âœ” creates error with code parameter (0.156037ms)
    âœ” creates error with numeric code (1.052623ms)
    âœ” creates error with null code explicitly (0.106652ms)
    âœ” creates error with undefined code (defaults to null) (0.115858ms)
    âœ” handles empty string code (0.113098ms)
    âœ” preserves error stack trace (0.149112ms)
    âœ” supports instanceof checks (0.10112ms)
  âœ” PreflightError (2.393008ms)
  â–¶ Error Class Interactions
    âœ” distinguishes between ArgumentError and PreflightError (0.147645ms)
    âœ” both error types are instanceof Error (0.107118ms)
    âœ” can be thrown and caught (0.569695ms)
    âœ” can be caught as generic Error (0.254072ms)
  âœ” Error Class Interactions (1.356072ms)
âœ” Error Classes (9.709581ms)
â„¹ tests 21
â„¹ suites 4
â„¹ pass 21
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 150.928741
âœ… Error Classes Tests - 240ms

ğŸ§ª Template Ignore Tests
   Template artifact filtering and tree output sanitization
â–¶ Template Ignore Logic
  â–¶ createTemplateIgnoreSet
    âœ” returns default set when no options provided (1.319986ms)
    âœ” returns default set when empty options object provided (0.162536ms)
    âœ” adds authorAssetsDir to ignore set (0.181538ms)
    âœ” trims whitespace from authorAssetsDir (0.146884ms)
    âœ” ignores empty authorAssetsDir after trimming (0.210412ms)
    âœ” ignores non-string authorAssetsDir (0.14349ms)
    âœ” adds extra entries to ignore set (0.184808ms)
    âœ” trims whitespace from extra entries (0.141492ms)
    âœ” ignores empty extra entries after trimming (1.046358ms)
    âœ” ignores non-string extra entries (0.218766ms)
    âœ” combines authorAssetsDir and extra entries (0.131038ms)
    âœ” handles non-array extra option gracefully (0.100576ms)
    âœ” returns default set when all additions are invalid (0.117129ms)
  âœ” createTemplateIgnoreSet (5.565191ms)
  â–¶ shouldIgnoreTemplateEntry
    âœ” returns true for default ignored entries (0.210337ms)
    âœ” returns false for non-ignored entries (0.127069ms)
    âœ” returns false for non-string input (0.107653ms)
    âœ” uses custom ignore set when provided (0.1087ms)
    âœ” is case-sensitive (0.081193ms)
  âœ” shouldIgnoreTemplateEntry (0.846848ms)
  â–¶ stripIgnoredFromTree
    âœ” removes ignored entries from tree text (exact match after trim) (0.396534ms)
    âœ” removes entries ending with space + ignored name (0.127784ms)
    âœ” removes entries ending with forward slash + ignored name (0.112756ms)
    âœ” removes entries ending with backslash + ignored name (0.177375ms)
    âœ” returns empty string for empty input (0.124437ms)
    âœ” returns input unchanged for non-string input (0.090239ms)
    âœ” uses custom ignore set when provided (0.118797ms)
    âœ” handles entries with spaces in tree output (0.107675ms)
    âœ” removes template.json from tree (0.105155ms)
    âœ” preserves lines that partially match ignored entries (0.101944ms)
    âœ” handles tree with mixed indentation (0.105105ms)
    âœ” trims final result (0.102631ms)
  âœ” stripIgnoredFromTree (2.08197ms)
  â–¶ Integration Scenarios
    âœ” filters template tree with custom author assets (0.159647ms)
    âœ” filters tree with OS-specific artifacts (0.144297ms)
  âœ” Integration Scenarios (0.407354ms)
âœ” Template Ignore Logic (9.698662ms)
â„¹ tests 32
â„¹ suites 5
â„¹ pass 32
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 157.977401
âœ… Template Ignore Tests - 245ms

ğŸ§ª Error Handler Tests
   Error formatting and contextual error handling

âŒ Test error
â–¶ Error Handler
  â–¶ Constants
    âœ” should export ErrorContext constants (1.085816ms)
    âœ” should export ErrorSeverity constants (0.206132ms)
  âœ” Constants (3.483874ms)
  â–¶ ContextualError Class
    âœ” should create ContextualError with default values (1.223512ms)
    âœ” should create ContextualError with custom values (0.365935ms)
  âœ” ContextualError Class (1.742749ms)
  â–¶ formatErrorMessage()
    âœ” should format basic error message (0.545124ms)
    âœ” should include technical details when requested (0.163591ms)
    âœ” should include suggestions when available (0.187033ms)
    âœ” should limit suggestions to maxSuggestions (0.212525ms)
    âœ” should exclude suggestions when includeSuggestions is false (0.187332ms)
  âœ” formatErrorMessage() (1.555051ms)
  â–¶ ErrorMessages
    âœ” should create templateNotFound error (0.352504ms)
    âœ” should create templateInvalidUrl error (0.209012ms)
    âœ” should create validationFailed error (0.148382ms)
    âœ” should create networkError error (0.166186ms)
    âœ” should create filesystemError error (0.158077ms)
    âœ” should create configError error (0.161855ms)
    âœ” should create genericError error (0.164513ms)
    âœ” should create genericError with custom context (0.104488ms)
    âœ” should create unknownCommand error (0.13377ms)
    âœ” should create missingRequiredArgument error (0.155433ms)
    âœ” should create invalidArgumentValue error (0.153183ms)
    âœ” should create commandValidationFailed error (0.148559ms)
  âœ” ErrorMessages (2.423215ms)
  â–¶ handleError()
    âœ” should format and display error without exiting (0.386372ms)
    âœ” should include technical details when requested (0.20222ms)
  âœ” handleError() (0.692297ms)
  â–¶ withErrorHandling()
    âœ” should return result when operation succeeds (0.201324ms)
    âœ” should handle errors and return exit code (1.31742ms)
  âœ” withErrorHandling() (1.629274ms)
  â–¶ contextualizeError()
    âœ” should return ContextualError unchanged (0.23224ms)
    âœ” should convert generic Error to ContextualError (0.76503ms)
    âœ” should apply custom context options (0.248071ms)
  âœ” contextualizeError() (1.394187ms)
âœ” Error Handler (13.986163ms)
â„¹ tests 28
â„¹ suites 8
â„¹ pass 28
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 170.142367
âœ… Error Handler Tests - 267ms

ğŸ§ª Placeholder Resolver Tests
   Placeholder resolution and merging logic
â–¶ Placeholder Resolver
  â–¶ resolvePlaceholders() - Main Function
    âœ” should return empty result for empty definitions (2.266386ms)
    âœ” should return empty result for null definitions (0.163833ms)
    âœ” should resolve from default values (0.32953ms)
    âœ” should resolve from config defaults (0.360872ms)
    âœ” should resolve from environment variables (0.174522ms)
    âœ” should resolve from CLI flags (0.215021ms)
    âœ” should prioritize sources correctly (flag > env > config > default) (0.222031ms)
    âœ” should handle unknown tokens in config defaults (0.34867ms)
    âœ” should handle unknown tokens in flag inputs (0.191504ms)
    âœ” should deduplicate unknown tokens (0.194274ms)
    âœ” should handle sensitive placeholders (0.15154ms)
  âœ” resolvePlaceholders() - Main Function (5.958279ms)
  â–¶ Type Coercion
    âœ” should coerce string values (0.221198ms)
    âœ” should coerce number values from strings (0.136188ms)
    âœ” should coerce number values from numbers (0.135172ms)
    âœ” should coerce boolean values from strings (0.479836ms)
    âœ” should coerce boolean values from booleans (0.152801ms)
    âœ” should reject invalid number values (0.666475ms)
    âœ” should reject empty number values (0.192762ms)
    âœ” should reject invalid boolean values (0.168099ms)
    âœ” should handle null and undefined values (0.233956ms)
  âœ” Type Coercion (2.734138ms)
  â–¶ Interactive Prompting
    âœ” should prompt for required missing placeholders when interactive (0.296254ms)
    âœ” should not prompt when noInputPrompts is true (0.165806ms)
    âœ” should not prompt when interactive is false (0.173639ms)
    âœ” should handle multiple required prompts (0.174666ms)
    âœ” should coerce prompted values (0.167338ms)
  âœ” Interactive Prompting (1.166906ms)
  â–¶ Required Field Validation
    âœ” should throw error for missing required placeholders when not interactive (0.190127ms)
    âœ” should accept missing optional placeholders (0.132808ms)
    âœ” should verify all required placeholders are resolved after prompting (0.083538ms)
  âœ” Required Field Validation (0.552179ms)
  â–¶ Input Validation
    âœ” should reject non-string flag inputs (0.29684ms)
    âœ” should reject malformed flag inputs without equals (0.15497ms)
    âœ” should reject flag inputs with empty token names (0.160213ms)
    âœ” should handle config defaults that are not strings (0.11589ms)
    âœ” should handle config defaults without equals (0.110734ms)
  âœ” Input Validation (1.039772ms)
  â–¶ TTY Detection
    âœ” should detect interactive mode from TTY streams (0.367289ms)
    âœ” should not be interactive when streams are not TTY (0.172856ms)
  âœ” TTY Detection (0.625994ms)
  â–¶ Edge Cases and Error Handling
    âœ” should handle empty config defaults array (0.167833ms)
    âœ” should handle null config defaults (0.113157ms)
    âœ” should handle empty flag inputs array (0.10234ms)
    âœ” should handle null env object (0.094539ms)
    âœ” should handle definitions with duplicate tokens (0.100056ms)
    âœ” should preserve order of report entries (0.116266ms)
  âœ” Edge Cases and Error Handling (0.905151ms)
  â–¶ Integration Tests
    âœ” should handle complex resolution with all sources (0.243713ms)
    âœ” should build correct placeholders array from resolved values (0.1174ms)
  âœ” Integration Tests (0.445309ms)
âœ” Placeholder Resolver (14.422836ms)
â„¹ tests 43
â„¹ suites 9
â„¹ pass 43
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 178.685488
âœ… Placeholder Resolver Tests - 270ms

ğŸ§ª Selection Validator Tests
   Template selection validation logic
âœ” SelectionValidator validates valid selection successfully (9.502836ms)
âœ” SelectionValidator generates correct derived flags (1.026709ms)
âœ” SelectionValidator rejects invalid selection schema (1.094556ms)
âœ” SelectionValidator enforces feature dependencies (1.036576ms)
âœ” SelectionValidator validates dimension values exist (0.986178ms)
âœ” SelectionValidator enforces gates constraints (1.134398ms)
âœ” SelectionValidator handles missing template gracefully (0.990131ms)
âœ” SelectionValidator handles file-based validation (0.731963ms)
âœ” SelectionValidator caches schema files (1.462032ms)
âœ” SelectionValidator provides detailed error messages (0.995416ms)
âœ” SelectionValidator handles empty selections (0.972402ms)
âœ” SelectionValidator validates feature array handling (1.042565ms)
âœ” SelectionValidator handles template with no gates (0.936944ms)
âœ” SelectionValidator handles template with no feature specs (1.496564ms)
â„¹ tests 14
â„¹ suites 0
â„¹ pass 14
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 158.384504
âœ… Selection Validator Tests - 240ms

ğŸ§ª Path Resolver Tests
   Path resolution and M5NV_HOME handling
â–¶ resolveHomeDirectory
  âœ” returns HOME from environment (2.211263ms)
  âœ” returns USERPROFILE on Windows (0.175423ms)
  âœ” prioritizes HOME over USERPROFILE (0.15369ms)
  âœ” falls back to os.homedir() (0.218131ms)
âœ” resolveHomeDirectory (4.37889ms)
â–¶ resolveM5nvBase
  âœ” returns M5NV_HOME when set (0.203475ms)
  âœ” returns ~/.m5nv when M5NV_HOME not set (0.157483ms)
  âœ” prioritizes M5NV_HOME over HOME (0.202293ms)
  âœ” uses default home directory when no env vars set (0.167127ms)
âœ” resolveM5nvBase (1.291521ms)
â–¶ resolveCacheDirectory
  âœ” returns M5NV_HOME/cache when M5NV_HOME set (0.19376ms)
  âœ” returns ~/.m5nv/cache when M5NV_HOME not set (0.131131ms)
âœ” resolveCacheDirectory (0.633994ms)
â–¶ resolveTemplateCacheDirectory
  âœ” returns M5NV_HOME/cache/templates when M5NV_HOME set (0.216368ms)
  âœ” returns ~/.m5nv/cache/templates when M5NV_HOME not set (0.134624ms)
âœ” resolveTemplateCacheDirectory (0.669651ms)
â–¶ resolveUserConfigPath
  âœ” returns M5NV_HOME/rc.json when M5NV_HOME set (1.173806ms)
  âœ” returns ~/.m5nv/rc.json when M5NV_HOME not set (0.120656ms)
âœ” resolveUserConfigPath (1.584515ms)
â–¶ M5NV_HOME integration
  âœ” all paths consistently use M5NV_HOME (0.129789ms)
  âœ” all paths consistently use default ~/.m5nv (0.113816ms)
âœ” M5NV_HOME integration (0.520572ms)
â„¹ tests 22
â„¹ suites 0
â„¹ pass 22
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 149.401672
âœ… Path Resolver Tests - 237ms

ğŸ§ª Functional Tests
   Comprehensive end-to-end CLI behavior validation
âœ” Temporary directories are cleaned up on failure (140.357623ms)
âœ” Temp directory cleanup on verifyTemplate() failure (370.300601ms)
âœ” Temp directory cleanup on copyTemplate() failure (379.349208ms)
âœ” Temp directory cleanup on executeSetupScript() failure (338.913214ms)
âœ” Project directory cleanup when setup script fails after copy (373.245978ms)
âœ” Setup script file cleanup on execution failure (353.540697ms)
âœ” Git process timeout and cleanup behavior (127.066701ms)
âœ” Resource leak detection across multiple failure modes (381.661978ms)
âœ” Resource cleanup on process interruption (2.376062ms)
âœ” Setup script error handling with malformed setup scripts (1344.375701ms)
âœ” Placeholder prompts fail when required values missing with --yes (412.271392ms)
âœ” Successful template creation with local repository (1312.418359ms)
âœ” Setup script execution and cleanup (1307.991703ms)
âœ” Next steps include template-provided handoff instructions (1410.616142ms)
âœ” Next steps fall back to README guidance when metadata absent (1345.011811ms)
âœ” Setup script receives Environment_Object with correct properties (1270.953634ms)
âœ” Placeholder prompts accept env and flag overrides (1324.869868ms)
âœ” Author assets are staged for setup and removed afterwards (1324.833243ms)
âœ” Package name validation in success output (1266.165149ms)
âœ” Comprehensive resource management validation (274.468548ms)
âœ” npm create @m5nv/scaffold command simulation (132.363834ms)
âœ” npx @m5nv/create-scaffold command simulation (143.934792ms)
âœ” Command patterns validate correct usage (858.380754ms)
âœ” Help text displays correct package name and usage patterns (143.024136ms)
âœ” Error messages reference correct package name (142.73191ms)
âœ” Help flag displays usage information (139.02395ms)
âœ” Missing project directory shows error (135.232013ms)
âœ” Missing template flag shows error (150.400047ms)
âœ” Path traversal in project directory is blocked (142.550649ms)
âœ” Path traversal in template URL is blocked (210.295215ms)
âœ” Invalid characters in project directory are rejected (127.637052ms)
âœ” Invalid template URL format is rejected (144.645076ms)
âœ” Invalid template URL with injection characters is rejected (124.485476ms)
âœ” Git installation is verified (149.179748ms)
âœ” Existing directory conflict is detected (146.896309ms)
âœ” Nonexistent template is detected (156.323334ms)
âœ” Missing template in repository is detected (1543.659159ms)
âœ” Error messages are sanitized (133.320372ms)
âœ” File operations prevent symlink attacks (1144.528067ms)
âœ” Argument parsing supports short aliases (130.175047ms)
â„¹ tests 40
â„¹ suites 0
â„¹ pass 40
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 10694.555653
âœ… Functional Tests - 10782ms

ğŸ§ª Template Schema Build Tests
   Deterministic generation of schema types and runtime stubs
âœ” buildTemplateSchema generates TypeScript artifacts (22.264992ms)
âœ” buildTemplateSchema --check detects drift (16.608705ms)
â„¹ tests 2
â„¹ suites 0
â„¹ pass 2
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 164.907207
âœ… Template Schema Build Tests - 252ms

ğŸ§ª Template Validator Tests
   Runtime manifest validation aligned with schema constraints
â–¶ TemplateValidator comprehensive validation
  âœ” validates complete v1.0.0 template successfully (2.711789ms)
  âœ” rejects templates with invalid schema version (0.289661ms)
  âœ” rejects templates with invalid ID format (0.216739ms)
  âœ” validates dimensions schema correctly (0.269106ms)
  âœ” validates gates reference existing dimensions (0.258791ms)
  âœ” validates feature specs reference existing features (0.25561ms)
  âœ” validates feature names follow pattern (0.264281ms)
  âœ” validates hints reference existing features (0.336248ms)
  âœ” validates lenient policy allows schema errors (0.210166ms)
  âœ” handles malformed template gracefully (0.447402ms)
âœ” TemplateValidator comprehensive validation (8.301933ms)
âœ“ Template validation successful
Summary: All checks passed
âœ” validateTemplateManifest returns normalized values for valid template (11.282295ms)
âœ” validateTemplateManifest throws when name is missing (0.688975ms)
âœ” validateTemplateManifest enforces placeholder pattern (0.208663ms)
âœ” validateTemplateManifest rejects invalid placeholder structure (0.167701ms)
âœ” validateTemplateManifest adds canonical placeholders without duplication (0.125132ms)
âœ” validateTemplateManifest merges canonical and template placeholder metadata (0.19568ms)
âœ” validateTemplateManifest rejects unknown canonical variables (0.208638ms)
â–¶ TemplateValidator consumption mode validation
  âœ” validates basic template for consumption (0.239116ms)
  âœ” rejects template missing required fields in consumption mode (0.179799ms)
  âœ” validates template with optional fields in consumption mode (0.167947ms)
  âœ” rejects invalid placeholders structure in consumption mode (0.138236ms)
  âœ” rejects invalid files structure in consumption mode (0.137242ms)
âœ” TemplateValidator consumption mode validation (1.526506ms)
â–¶ TemplateValidator output modes
  âœ” structured output returns result object (0.151706ms)
  âœ” console output does not affect return value (0.663028ms)
âœ” TemplateValidator output modes (1.237388ms)
â„¹ tests 27
â„¹ suites 0
â„¹ pass 27
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 166.34459
âœ… Template Validator Tests - 252ms

ğŸ§ª Options Processor Tests
   Template dimension option normalization used by create-scaffold commands
â–¶ normalizeOptions
  â–¶ basic functionality
    âœ” returns empty result for empty inputs (2.37838ms)
    âœ” initializes dimensions with defaults (0.27654ms)
    âœ” handles single-value dimensions without defaults (0.218776ms)
    âœ” handles multi-value dimensions without defaults (0.195064ms)
  âœ” basic functionality (4.245964ms)
  â–¶ explicit dimension assignment
    âœ” handles single dimension assignment (0.335227ms)
    âœ” handles multi-value dimension assignment (0.236343ms)
    âœ” handles multiple values in multi-dimension (0.168308ms)
    âœ” rejects multiple values for single dimension (0.66399ms)
    âœ” rejects empty value assignment (0.231661ms)
  âœ” explicit dimension assignment (1.914599ms)
  â–¶ catch-all dimension handling
    âœ” uses capabilities as catch-all when present (0.231591ms)
    âœ” uses first multi dimension as catch-all (0.14779ms)
    âœ” treats unknown tokens as unknown when no catch-all (0.130203ms)
  âœ” catch-all dimension handling (0.660051ms)
  â–¶ value validation
    âœ” rejects unknown dimension (0.165426ms)
    âœ” rejects invalid value for strict policy (0.19966ms)
    âœ” warns for invalid value with warn policy (0.164467ms)
  âœ” value validation (0.670031ms)
  â–¶ dependency enforcement
    âœ” enforces single value dependencies (0.257073ms)
    âœ” allows dependencies when satisfied (0.160352ms)
    âœ” enforces multi-value dependencies (0.179072ms)
  âœ” dependency enforcement (0.721307ms)
  â–¶ conflict enforcement
    âœ” enforces single value conflicts (0.224938ms)
    âœ” enforces multi-value conflicts (0.173039ms)
  âœ” conflict enforcement (0.496042ms)
  â–¶ edge cases
    âœ” handles whitespace in tokens (0.16968ms)
    âœ” handles empty values in multi-assignment (0.12828ms)
    âœ” maintains deterministic ordering for multi-values (0.120282ms)
    âœ” handles undefined dimensions parameter (0.115255ms)
    âœ” handles undefined rawTokens parameter (0.11057ms)
  âœ” edge cases (0.803985ms)
âœ” normalizeOptions (11.581687ms)
â„¹ tests 25
â„¹ suites 8
â„¹ pass 25
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 162.878142
âœ… Options Processor Tests - 248ms

ğŸ§ª Config Loader Tests
   .m5nvrc discovery and normalization for create-scaffold defaults
â–¶ Config discovery does NOT walk up directory tree
  âœ” does not load config from parent directory (11.79361ms)
  âœ” does not load config from grandparent directory (5.675356ms)
  âœ” loads config ONLY from current directory (8.269629ms)
  âœ” only checks cwd then user config (no intermediate paths) (8.157675ms)
âœ” Config discovery does NOT walk up directory tree (36.278344ms)
â–¶ Config discovery search order
  âœ” checks cwd/.m5nvrc first (4.147582ms)
  âœ” falls back to user config when cwd config missing (6.946579ms)
âœ” Config discovery search order (12.008239ms)
â–¶ Config discovery documentation
  âœ” documented behavior: cwd then user config only (0.227716ms)
âœ” Config discovery documentation (0.576494ms)
â–¶ ConfigLoader - Templates Normalization
  â–¶ normalizeTemplates - valid configurations
    âœ” loads templates with single mapping (12.789457ms)
    âœ” loads templates with multiple mappings (4.419768ms)
    âœ” trims whitespace from template aliases and paths (2.724337ms)
  âœ” normalizeTemplates - valid configurations (21.822058ms)
  â–¶ normalizeTemplates - validation errors
    âœ” rejects templates as non-object (5.002348ms)
    âœ” rejects templates as array (3.008499ms)
    âœ” rejects empty template alias (3.162716ms)
    âœ” rejects template config as non-object (3.215689ms)
    âœ” rejects template config as array (4.945352ms)
    âœ” rejects template config as null (5.692064ms)
    âœ” rejects non-string template path (3.097643ms)
    âœ” rejects empty template name (3.245314ms)
    âœ” rejects empty template path (3.044784ms)
  âœ” normalizeTemplates - validation errors (35.358834ms)
  â–¶ normalizeRegistries - edge cases
    âœ” rejects non-object registry value that is not typed (4.956264ms)
    âœ” rejects non-string template URL in registry mapping (3.143699ms)
    âœ” rejects empty template name in registry mapping (3.061247ms)
    âœ” rejects empty template URL in registry mapping (3.153489ms)
    âœ” rejects git registry without url field (4.200881ms)
    âœ” rejects local registry without path field (5.618193ms)
  âœ” normalizeRegistries - edge cases (24.775817ms)
âœ” ConfigLoader - Templates Normalization (82.808705ms)
â–¶ ConfigLoader
  â–¶ loadConfig
    âœ” returns null when skip is true (1.248675ms)
    âœ” returns null when no config files exist (9.084719ms)
    âœ” loads project config file when it exists (6.546132ms)
    âœ” loads user config when project config does not exist (5.323205ms)
    âœ” prioritizes project config over user config (4.49878ms)
  âœ” loadConfig (28.219885ms)
  â–¶ Configuration Validation
    âœ” validates repo field (3.741006ms)
    âœ” validates branch field (3.167868ms)
    âœ” validates author field (3.5934ms)
    âœ” validates placeholders field (2.764069ms)
    âœ” validates registries field (6.862884ms)
  âœ” Configuration Validation (20.703984ms)
  â–¶ Error Handling
    âœ” throws on invalid JSON (5.220358ms)
    âœ” throws on invalid repo URL (4.131503ms)
    âœ” throws on invalid branch name (3.13362ms)
    âœ” throws on invalid author object (3.64679ms)
    âœ” throws on invalid placeholders object (2.940443ms)
    âœ” throws on invalid placeholder token (3.010736ms)
    âœ” throws on invalid registries object (3.102074ms)
  âœ” Error Handling (25.804924ms)
  â–¶ Security Validation
    âœ” rejects null bytes in author fields (4.428423ms)
    âœ” rejects newlines in author fields (4.706671ms)
    âœ” rejects null bytes in placeholder values (4.583147ms)
  âœ” Security Validation (14.09796ms)
  â–¶ Path Resolution
    âœ” handles Windows-style paths on Windows (0.179164ms)
    âœ” handles Unix-style paths on Unix-like systems (1.809295ms)
  âœ” Path Resolution (2.153407ms)
  â–¶ Product-Specific Configuration
    âœ” loads product-specific registries (2.927896ms)
    âœ” prioritizes product-specific registries over top-level (2.666131ms)
  âœ” Product-Specific Configuration (5.810045ms)
âœ” ConfigLoader (97.794895ms)
â„¹ tests 52
â„¹ suites 11
â„¹ pass 52
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 229.677414
âœ… Config Loader Tests - 328ms

ğŸ§ª CacheManager Git Tests
   Git-backed cache population, TTL, and cleanup validation
â–¶ CacheManager - git-backed operations
  âœ” populateCache clones repo and writes metadata (405.626715ms)
  âœ” ensureRepositoryCached reuses cached clone and logs cache hits (385.860918ms)
  âœ” refreshCache re-clones repository and preserves TTL configuration (556.871412ms)
  âœ” getCachedRepo returns null when cache entry is expired (383.007422ms)
  âœ” clearExpiredEntries removes expired and corrupted caches (378.475278ms)
âœ” CacheManager - git-backed operations (2111.599803ms)
â„¹ tests 5
â„¹ suites 1
â„¹ pass 5
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 2243.41362
âœ… CacheManager Git Tests - 2329ms

ğŸ§ª TemplateResolver Git Tests
   Git-backed template resolution and alias refresh validation
â–¶ TemplateResolver - git-backed integration
  âœ” resolveTemplate clones git repositories via direct URLs and reads metadata (379.493547ms)
  âœ” resolveTemplate refreshes expired caches when resolving registry aliases (414.788602ms)
  âœ” resolveTemplate handles GitHub shorthand with explicit branch (299.402036ms)
  âœ” resolveTemplate uses cache on second access (287.433711ms)
  âœ” validateTemplateUrl rejects null bytes (213.932629ms)
  âœ” validateTemplateUrl rejects shell metacharacters (234.693878ms)
  âœ” validateTemplateUrl rejects path traversal attempts (227.777896ms)
  âœ” parseTemplateUrl handles local paths (222.348938ms)
  âœ” parseTemplateUrl handles GitHub shorthand variations (217.736289ms)
  âœ” parseTemplateUrl handles registry URLs (220.638999ms)
  âœ” parseFullUrl handles GitHub URLs with tree paths (230.517831ms)
  âœ” parseFullUrl handles GitHub URLs without tree paths (233.26708ms)
  âœ” parseFullUrl handles tarball URLs (227.431303ms)
  âœ” resolveToPath throws on unsupported github-archive type (239.761327ms)
  âœ” resolveToPath throws on unsupported tarball type (242.578064ms)
  âœ” resolveToPath throws on completely unsupported type (250.5509ms)
  âœ” resolveRegistryAlias returns original URL when no config (227.327029ms)
  âœ” resolveRegistryAlias handles legacy registries format (1.078894ms)
  âœ” resolveRegistryAlias ignores non-legacy registry formats (0.817719ms)
  âœ” resolveRegistryAlias returns original when template not in alias (0.736392ms)
âœ” TemplateResolver - git-backed integration (4375.293528ms)
â„¹ tests 20
â„¹ suites 1
â„¹ pass 20
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 4517.200368
âœ… TemplateResolver Git Tests - 4603ms

ğŸ§ª Base Command Tests
   Command template method pattern tests
â–¶ Command
  âœ” should show basic help (1.605913ms)
  âœ” should show detailed help (0.445654ms)
  âœ” should parse help flag (0.306055ms)
  âœ” should execute help when --help provided (0.330094ms)
  âœ” should parse custom arguments (0.212508ms)
  âœ” should execute run method (0.265278ms)
  âœ” should reject unknown arguments with error (0.658028ms)
  âœ” should format option flags correctly (0.192967ms)
  âœ” should require subclass to implement parseArg (0.194088ms)
  âœ” should require subclass to implement run (0.26144ms)
âœ” Command (6.57077ms)
â„¹ tests 10
â„¹ suites 1
â„¹ pass 10
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 142.994522
âœ… Base Command Tests - 223ms

ğŸ§ª Router Tests
   Command dispatch router tests
â–¶ Router
  âœ” should show general help when no args provided (1.563372ms)
  âœ” should show help with --help flag (0.255758ms)
  âœ” should show version with --version flag (0.208403ms)
  âœ” should route to command (0.355361ms)
  âœ” should show error for unknown command (0.314921ms)
  âœ” should show command help with help command (0.284951ms)
âœ” Router (4.463424ms)
â„¹ tests 6
â„¹ suites 1
â„¹ pass 6
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 133.597048
âœ… Router Tests - 215ms

ğŸ§ª Resource Leak Tests
   Resource management and cleanup validation
âœ” temp directory cleanup on invalid template (137.056561ms)
âœ” temp directory cleanup on invalid repository (142.306586ms)
âœ” temp directory cleanup on nonexistent repository (134.485677ms)
âœ” resource cleanup across multiple failure scenarios (384.126254ms)
â„¹ tests 4
â„¹ suites 0
â„¹ pass 4
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 919.611047
âœ… Resource Leak Tests - 1005ms

ğŸ§ª Create-Scaffold New Tests
   Create-scaffold new command unit tests
â–¶ NewCommand
  âœ” requires project-name argument (4.695178ms)

ğŸš€ Guided Project Setup
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Project: myapp
ğŸ“¦ template: null
ğŸ”— Source: million-views/packages (main)
ğŸ“Š Progress: 0/12 steps


âŒ Initialization failed:
   template path not resolved

Recovery options:
   1. Retry this step
   2. Skip this step and continue
   3. Abort the entire setup
Choose an option:
   1. Retry this step
   2. Skip this step and continue
   3. Abort the entire setup
ğŸ”„ Initialization - Attempt 1/3

âŒ Validation failed:
   Template not accessible

ğŸ’¥ Setup workflow failed!
Error: Template not accessible

Cleanup options:
   1. Clean up partial setup (recommended)
   2. Leave files as-is for manual recovery
   3. Show detailed error log
Choose cleanup option:
   1. Clean up partial setup (recommended)
   2. Leave files as-is for manual recovery
   3. Show detailed error log
Partial setup cleaned up.
  âœ” requires --template option (16.815877ms)
  âœ” parses project name and template (0.232334ms)
  âœ” shows help with --help flag (0.411206ms)
  â–¶ Integration Tests
    âœ” handles placeholder arguments (1.266216ms)
    âœ” handles cache options (0.175011ms)
    âœ” handles configuration options (0.239627ms)
    âœ” handles log file option (0.176209ms)
  âœ” Integration Tests (2.212753ms)
âœ” NewCommand (26.098722ms)
â„¹ tests 8
â„¹ suites 2
â„¹ pass 8
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1162.080116
âœ… Create-Scaffold New Tests - 1252ms

ğŸ§ª Dry Run CLI Tests
   End-to-end dry-run previews for local and cached templates
âœ” dry-run CLI preview with local template path (1126.191138ms)
âœ” dry-run CLI preview with cached repository template (1389.005386ms)
â„¹ tests 2
â„¹ suites 0
â„¹ pass 2
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 2626.362024
âœ… Dry Run CLI Tests - 2699ms

ğŸ§ª Create-Scaffold List Tests
   Create-scaffold list command unit tests
â–¶ ListCommand
  âœ” shows help with --help flag (2.654165ms)
  âœ” parses registry option (0.325669ms)
  âœ” parses format option (0.175314ms)
  âœ” parses verbose flag (0.298926ms)
âœ” ListCommand (5.420252ms)
â„¹ tests 4
â„¹ suites 1
â„¹ pass 4
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 297.821737
âœ… Create-Scaffold List Tests - 394ms

ğŸ§ª Create-Scaffold Validate Tests
   Create-scaffold validate command unit tests
â–¶ ValidateCommand
  âœ” requires template-path argument (5.947246ms)
  âœ” shows help with --help flag (0.677443ms)
  âœ” parses suggest flag (0.20396ms)
âœ” ValidateCommand (8.380404ms)
â„¹ tests 3
â„¹ suites 1
â„¹ pass 3
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1158.496182
âœ… Create-Scaffold Validate Tests - 1283ms

ğŸ§ª Make-Template Init Tests
   Template initialization and skeleton generation
â–¶ make-template init command
  âœ” init generates valid skeleton template.json (761.203097ms)
  âœ” init with custom filename works (769.979338ms)
  âœ” init fails when file already exists (792.772575ms)
  âœ” init --help shows help text (679.594507ms)
  âœ” init provides next steps guidance (690.680289ms)
âœ” make-template init command (3704.736699ms)
â„¹ tests 6
â„¹ suites 0
â„¹ pass 6
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 3847.506497
âœ… Make-Template Init Tests - 3942ms

ğŸ§ª Make-Template Hints Tests
   Template authoring guidance and hints display
â–¶ make-template hints command
  âœ” hints displays catalog header (680.968648ms)
  âœ” hints shows comprehensive feature list (679.897094ms)
  âœ” hints provides usage guidance (662.504756ms)
  âœ” hints --help shows help text (732.042848ms)
  âœ” hints shows template authoring context (770.924112ms)
  âœ” hints output is well-formatted (768.148615ms)
âœ” make-template hints command (4301.307081ms)
â„¹ tests 7
â„¹ suites 0
â„¹ pass 7
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 4430.672416
âœ… Make-Template Hints Tests - 4518ms

ğŸ§ª Make-Template Convert Tests
   Project to template conversion functionality
âœ” convert --dry-run shows preview without changes (711.798746ms)
âŒ Project must have package.json: /Users/vijay/workspaces/ws-million-views/create/tmp/make-template-convert-no-package-1764094511775/empty-dir
âœ” convert requires package.json (666.497052ms)
âŒ This appears to be a development repository:
   â€¢ Git repository (.git directory found)
   â€¢ Node modules installed (node_modules directory found)

ğŸ’¡ Use --yes to proceed anyway, or ensure you're converting a clean project directory.
âœ” convert detects development repository (703.508126ms)
âœ” convert succeeds with --yes flag on development repo (756.968449ms)
âœ” convert --help shows help text (767.959989ms)
âœ” convert creates template.json (790.844666ms)
âœ” convert creates undo log (761.346456ms)
âœ” convert handles existing undo log (939.771664ms)
â„¹ tests 8
â„¹ suites 0
â„¹ pass 8
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 6214.917128
âœ… Make-Template Convert Tests - 6318ms

ğŸ§ª Make-Template Restore Tests
   Template to project restoration functionality
âœ” restore requires undo log (829.56511ms)
âœ” restore --dry-run shows preview without changes (811.482438ms)
âœ” restore --help shows help text (745.05758ms)
âœ” restore performs restoration (721.148159ms)
âœ” restore cleans up artifacts (784.990355ms)
âœ” restore handles missing files gracefully (751.477333ms)
âœ” restore --files option works (884.761579ms)
âœ” restore --files option parses comma-separated list (751.891328ms)
âœ” restore --placeholders-only option works (704.507633ms)
â„¹ tests 9
â„¹ suites 0
â„¹ pass 9
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 7151.729327
âœ… Make-Template Restore Tests - 7326ms

ğŸ§ª Make-Template Test Command Tests
   Template testing with create-scaffold integration
â–¶ make-template test command
  âœ” test requires template path (881.247293ms)
  âœ” test --help shows help text (750.541077ms)
  âœ” test validates template exists (703.811198ms)
  âœ” test validates template.json exists (875.522446ms)
  âœ” test performs basic template validation (792.992205ms)
  âœ” test --verbose provides detailed output (771.826904ms)
  âœ” test --keep-temp preserves temporary directories (813.105743ms)
  âœ” test handles invalid template gracefully (750.991533ms)
  âœ” test shows progress indicators (754.928968ms)
âœ” make-template test command (7101.081741ms)
â„¹ tests 10
â„¹ suites 0
â„¹ pass 10
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 7220.652735
âœ… Make-Template Test Command Tests - 7305ms

ğŸ§ª Make-Template Validate Tests
   Template validation and schema compliance
â–¶ make-template CLI validate integration
  âœ– validate validates valid template.json successfully (738.51322ms)
  âœ– validate rejects invalid schema template.json (3.395996ms)
  âœ– validate rejects invalid domain template.json (1.362652ms)
  âœ” validate handles missing template.json file (675.016923ms)
  âœ– validate defaults to template.json when no file specified (1.457592ms)
  âœ– validate provides detailed error messages (1.201127ms)
  âœ– validate shows warnings when present (1.030505ms)
âœ– make-template CLI validate integration (1429.557018ms)
â„¹ tests 8
â„¹ suites 0
â„¹ pass 1
â„¹ fail 7
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1541.337519

âœ– failing tests:

test at tests/make-template/cli-integration.test.mjs:102:11
âœ– validate validates valid template.json successfully (738.51322ms)
  AssertionError [ERR_ASSERTION]: Expected exit code 0, got 1. Stderr: âŒ Template validation failed!
  File not found: /Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/template.json
  Error: ENOENT: no such file or directory, access '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/template.json'
  file:///Users/vijay/workspaces/ws-million-views/create/bin/make-template/commands/validate/index.js:37
        throw new Error(`File not found: ${filePath}`);
              ^
  
  Error: File not found: /Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/template.json
      at ValidateCommand.run (file:///Users/vijay/workspaces/ws-million-views/create/bin/make-template/commands/validate/index.js:37:13)
      at async ValidateCommand.execute (file:///Users/vijay/workspaces/ws-million-views/create/lib/cli/command.js:140:12)
      at async MakeTemplateRouter.route (file:///Users/vijay/workspaces/ws-million-views/create/lib/cli/router.js:63:5)
      at async file:///Users/vijay/workspaces/ws-million-views/create/bin/make-template/index.mjs:44:1
  
  Node.js v25.2.1
  
      at TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:108:12)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:102:3)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
    generatedMessage: false,
    code: 'ERR_ASSERTION',
    actual: 1,
    expected: 0,
    operator: '==',
    diff: 'simple'
  }

test at tests/make-template/cli-integration.test.mjs:114:11
âœ– validate rejects invalid schema template.json (3.395996ms)
  Error: ENOENT: no such file or directory, open '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/invalid-schema.json'
      at async open (node:internal/fs/promises:641:25)
      at async writeFile (node:internal/fs/promises:1249:14)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:116:5)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:114:3)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
    errno: -2,
    code: 'ENOENT',
    syscall: 'open',
    path: '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/invalid-schema.json'
  }

test at tests/make-template/cli-integration.test.mjs:125:11
âœ– validate rejects invalid domain template.json (1.362652ms)
  Error: ENOENT: no such file or directory, open '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/invalid-domain.json'
      at async open (node:internal/fs/promises:641:25)
      at async writeFile (node:internal/fs/promises:1249:14)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:127:5)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:125:3)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
    errno: -2,
    code: 'ENOENT',
    syscall: 'open',
    path: '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/invalid-domain.json'
  }

test at tests/make-template/cli-integration.test.mjs:147:11
âœ– validate defaults to template.json when no file specified (1.457592ms)
  Error: ENOENT: no such file or directory, open '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/template.json'
      at async open (node:internal/fs/promises:641:25)
      at async writeFile (node:internal/fs/promises:1249:14)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:149:5)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:147:3)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
    errno: -2,
    code: 'ENOENT',
    syscall: 'open',
    path: '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/template.json'
  }

test at tests/make-template/cli-integration.test.mjs:157:11
âœ– validate provides detailed error messages (1.201127ms)
  Error: ENOENT: no such file or directory, open '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/detailed-error.json'
      at async open (node:internal/fs/promises:641:25)
      at async writeFile (node:internal/fs/promises:1249:14)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:159:5)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:157:3)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
    errno: -2,
    code: 'ENOENT',
    syscall: 'open',
    path: '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/detailed-error.json'
  }

test at tests/make-template/cli-integration.test.mjs:169:11
âœ– validate shows warnings when present (1.030505ms)
  Error: ENOENT: no such file or directory, open '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/warnings.json'
      at async open (node:internal/fs/promises:641:25)
      at async writeFile (node:internal/fs/promises:1249:14)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:183:5)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async TestContext.<anonymous> (file:///Users/vijay/workspaces/ws-million-views/create/tests/make-template/cli-integration.test.mjs:169:3)
      at async Test.run (node:internal/test_runner/test:1113:7)
      at async startSubtestAfterBootstrap (node:internal/test_runner/harness:358:3) {
    errno: -2,
    code: 'ENOENT',
    syscall: 'open',
    path: '/Users/vijay/workspaces/ws-million-views/create/tests/fixtures/temp-make-template-test/warnings.json'
  }
âŒ Make-Template Validate Tests - 1627ms
   Error: Process exited with code 1

============================================================
ğŸ“Š TEST SUITE SUMMARY
============================================================
âœ… Security Tests                 273ms
âœ… BoundaryValidator Tests        1318ms
âœ… Registry Cache Manager Tests   994ms
âœ… Environment Module Tests       292ms
âœ… Environment Tools Tests        516ms
âœ… Error Classes Tests            240ms
âœ… Template Ignore Tests          245ms
âœ… Error Handler Tests            267ms
âœ… Placeholder Resolver Tests     270ms
âœ… Selection Validator Tests      240ms
âœ… Path Resolver Tests            237ms
âœ… Functional Tests               10782ms
âœ… Template Schema Build Tests    252ms
âœ… Template Validator Tests       252ms
âœ… Options Processor Tests        248ms
âœ… Config Loader Tests            328ms
âœ… CacheManager Git Tests         2329ms
âœ… TemplateResolver Git Tests     4603ms
âœ… Base Command Tests             223ms
âœ… Router Tests                   215ms
âœ… Resource Leak Tests            1005ms
âœ… Create-Scaffold New Tests      1252ms
âœ… Dry Run CLI Tests              2699ms
âœ… Create-Scaffold List Tests     394ms
âœ… Create-Scaffold Validate Tests 1283ms
âœ… Make-Template Init Tests       3942ms
âœ… Make-Template Hints Tests      4518ms
âœ… Make-Template Convert Tests    6318ms
âœ… Make-Template Restore Tests    7326ms
âœ… Make-Template Test Command Tests 7305ms
âŒ Make-Template Validate Tests   1627ms
============================================================
ğŸ“ˆ Results: 30 passed, 1 failed
â±ï¸  Total time: 61817ms

âŒ Some tests failed
---------------------------------------|---------|----------|---------|---------|-------------------
File                                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
---------------------------------------|---------|----------|---------|---------|-------------------
All files                              |   72.29 |    71.57 |   75.21 |   72.29 |                   
 bin/create-scaffold                   |     100 |      100 |     100 |     100 |                   
  index.mjs                            |     100 |      100 |     100 |     100 |                   
 bin/create-scaffold/commands/list     |   48.14 |       80 |   28.57 |   48.14 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   72.97 |       75 |   66.66 |   72.97 | 21-23,27-29,34-37 
  registry-fetcher.js                  |   12.82 |      100 |       0 |   12.82 | ...64-107,110-114 
 bin/create-scaffold/commands/new      |   85.53 |    79.56 |   76.92 |   85.53 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   89.91 |       88 |     100 |   89.91 | ...01-102,116-119 
  scaffolder.js                        |   80.33 |    74.41 |   66.66 |   80.33 | ...75-383,438-449 
 bin/create-scaffold/commands/validate |   64.22 |    66.66 |     100 |   64.22 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   52.17 |    63.63 |     100 |   52.17 | ...79,82-84,89-92 
 bin/create-scaffold/modules           |   70.69 |    72.44 |   78.15 |   70.69 |                   
  cache-manager.mjs                    |   81.39 |    60.81 |     100 |   81.39 | ...52-455,458-460 
  config-loader.mjs                    |   80.54 |    80.51 |     100 |   80.54 | ...82-386,397-401 
  dry-run-engine.mjs                   |   92.93 |       60 |     100 |   92.93 | ...70-271,277-278 
  guided-setup-workflow.mjs            |   54.82 |    66.88 |    61.4 |   54.82 | ...1368,1386-1388 
  options-processor.mjs                |   90.81 |     82.5 |     100 |   90.81 | ...,89-98,194-195 
  setup-runtime.mjs                    |   90.62 |    42.85 |   71.42 |   90.62 | ...09-112,118-119 
  template-resolver.mjs                |   68.38 |    79.46 |   84.61 |   68.38 | ...21-678,710-716 
 bin/create-scaffold/modules/registry  |   97.55 |     87.3 |     100 |   97.55 |                   
  cache-manager.mjs                    |   97.55 |     87.3 |     100 |   97.55 | ...18-219,284-285 
 bin/make-template                     |     100 |      100 |     100 |     100 |                   
  index.mjs                            |     100 |      100 |     100 |     100 |                   
 ...-template/commands/config/validate |   83.33 |       80 |   66.66 |   83.33 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   73.33 |       75 |   66.66 |   73.33 | 11-15,26-28       
 bin/make-template/commands/convert    |   79.79 |    55.46 |   94.73 |   79.79 |                   
  converter.js                         |   75.84 |    52.17 |   93.33 |   75.84 | ...48-549,556-557 
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   79.66 |    72.22 |     100 |   79.66 | ...26,28-29,56-59 
  validator.js                         |   76.47 |       50 |     100 |   76.47 | ...11,18-19,24-25 
 bin/make-template/commands/hints      |    98.6 |      100 |   66.66 |    98.6 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   98.47 |      100 |   66.66 |   98.47 | 10-11             
 bin/make-template/commands/init       |    95.2 |    78.57 |     100 |    95.2 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   91.89 |    76.92 |     100 |   91.89 | 17-21,59          
 bin/make-template/commands/restore    |   87.09 |    82.35 |     100 |   87.09 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   71.69 |    85.71 |     100 |   71.69 | 24-34,50-53       
  restorer.js                          |   85.34 |    78.94 |     100 |   85.34 | ...00-111,113-114 
 bin/make-template/commands/test       |   80.91 |    83.33 |     100 |   80.91 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   77.22 |    82.75 |     100 |   77.22 | ...84,191,199-202 
 bin/make-template/commands/validate   |   85.27 |       75 |     100 |   85.27 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   78.65 |    73.91 |     100 |   78.65 | ...73,75-78,86-89 
 lib                                   |   61.98 |       67 |   59.39 |   61.98 |                   
  boundary-validator.mjs               |   77.27 |      100 |   72.72 |   77.27 | ...51-186,197-198 
  error-classes.mjs                    |     100 |      100 |     100 |     100 |                   
  error-handler.mjs                    |   97.19 |    85.96 |     100 |   97.19 | ...46-347,351-352 
  logger.mjs                           |   61.34 |    44.44 |   42.85 |   61.34 | ...21-536,543-548 
  path-resolver.mjs                    |     100 |      100 |     100 |     100 |                   
  placeholder-formats.mjs              |    85.2 |    72.22 |      75 |    85.2 | ...37-238,245-250 
  placeholder-resolver.mjs             |    81.6 |    86.74 |      60 |    81.6 | ...60-270,272-299 
  placeholder-schema.mjs               |   59.75 |    37.03 |     100 |   59.75 | ...21-125,128-161 
  security-audit-logger.mjs            |      75 |    77.77 |   66.66 |      75 | ...33-138,160-164 
  security-gate.mjs                    |   84.73 |    71.87 |   83.33 |   84.73 | ...50-251,257-261 
  security.mjs                         |   59.46 |    60.96 |   57.14 |   59.46 | ...1144,1146-1147 
  template-discovery.mjs               |    40.1 |       55 |    7.14 |    40.1 | ...43-546,551-555 
  template-ignore.mjs                  |   98.16 |    96.42 |     100 |   98.16 | 96-97             
  template-manifest-validator.mjs      |   56.17 |     67.3 |     100 |   56.17 | ...88-189,200-201 
  templatize-config.mjs                |   81.03 |    41.17 |   77.77 |   81.03 | ...46-347,400-427 
  templatize-html.mjs                  |   17.71 |      100 |       0 |   17.71 | ...83-226,231-271 
  templatize-json.mjs                  |   83.97 |       45 |     100 |   83.97 | ...35-136,150-152 
  templatize-jsx.mjs                   |   17.88 |      100 |       0 |   17.88 | ...59-292,303-397 
  templatize-markdown.mjs              |   45.48 |       50 |   55.55 |   45.48 | ...14-516,528-587 
 lib/cli                               |   85.82 |    89.88 |    90.9 |   85.82 |                   
  command.js                           |      84 |     90.9 |    87.5 |      84 | ...,71-85,144-145 
  router.js                            |   88.28 |    88.88 |     100 |   88.28 | 39-41,50-51,79-86 
 lib/environment                       |   90.17 |    84.61 |   92.59 |   90.17 |                   
  context.mjs                          |   98.88 |     87.5 |     100 |   98.88 | 132-133           
  index.mjs                            |     100 |      100 |     100 |     100 |                   
  testing.mjs                          |     100 |      100 |     100 |     100 |                   
  utils.mjs                            |   74.41 |    76.19 |   86.66 |   74.41 | ...09-235,244-258 
 lib/environment/tools                 |    86.1 |    67.62 |   89.33 |    86.1 |                   
  files.mjs                            |   83.49 |       52 |    90.9 |   83.49 | ...42-146,186-194 
  index.mjs                            |     100 |      100 |      50 |     100 |                   
  inputs.mjs                           |   95.55 |       75 |     100 |   95.55 | 29-30             
  json.mjs                             |   80.27 |    59.01 |    90.9 |   80.27 | ...96,314-321,361 
  logger.mjs                           |   64.28 |    66.66 |      25 |   64.28 | ...28,31-35,38-40 
  options.mjs                          |   86.19 |    59.09 |     100 |   86.19 | ...73-174,180-185 
  placeholders.mjs                     |   88.26 |    52.38 |     100 |   88.26 | ...64-165,169-170 
  templates.mjs                        |   93.69 |    85.71 |     100 |   93.69 | 33-37,42-43       
  text.mjs                             |   88.38 |    80.85 |     100 |   88.38 | ...11-212,218-221 
 lib/utils                             |   59.28 |    63.33 |   47.05 |   59.28 |                   
  file.mjs                             |   52.47 |    59.09 |   43.75 |   52.47 | ...39-346,355-362 
  shell.mjs                            |   89.15 |       75 |     100 |   89.15 | 43-45,62-63,75-78 
 lib/validation                        |    64.3 |    74.25 |   83.87 |    64.3 |                   
  selection-validator.mjs              |   86.81 |    69.49 |     100 |   86.81 | ...30-243,266-279 
  template-validator.mjs               |   54.78 |    76.85 |   73.68 |   54.78 | ...59-915,926-950 
 scripts                               |   86.56 |       60 |   84.21 |   86.56 |                   
  build-template-schema.mjs            |   88.65 |       50 |    90.9 |   88.65 | ...64-374,378-379 
  test-runner.mjs                      |   85.01 |    76.92 |      75 |   85.01 | ...52,499-511,514 
---------------------------------------|---------|----------|---------|---------|-------------------
