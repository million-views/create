---
title: "Intelligent Templatization"
description: "Automatic content detection and placeholder replacement system"
type: explanation
audience: "intermediate"
estimated_time: "8 minutes read"
prerequisites:
  - "Understanding of template systems"
  - "Basic knowledge of JSX, JSON, Markdown, or HTML"
related_docs:
  - "../tutorial/make-template.md"
  - "../how-to/creating-templates.md"
  - "../reference/template-schema.md"
last_updated: "2025-11-18"
---

# Intelligent Templatization

## Overview

The intelligent templatization system automatically detects project-specific content in source files and replaces it with reusable placeholders. This eliminates manual placeholder insertion while maintaining full control over what gets templatized.

## Core Principles

- **Progressive Enhancement**: Start with comprehensive defaults, allow customization
- **Conservative Detection**: Only transform string literals, respect manual work
- **Forwards Compatible**: Unknown properties/patterns are ignored, not errors
- **Template-Author Focused**: Creation-time tool, not distributed with templates

## Configuration File: `.templatize.json`

Generated by `make-template init`, this file defines templatization rules:

```json
{
  "version": "1.0",
  "autoDetect": true,
  "rules": {
    "package.json": [
      {
        "context": "application/json",
        "path": "$.name",
        "placeholder": "PACKAGE_NAME"
      }
    ],
    ".jsx": [
      {
        "context": "text/jsx",
        "selector": "h1:first-child",
        "placeholder": "CONTENT_TITLE"
      }
    ]
  }
}
```

### Top-Level Properties

- `version`: Schema version for major changes
- `autoDetect`: Enable/disable automatic templatization (default: true)
- `rules`: File-type specific pattern arrays

## Pattern Types

The `context` property uses MIME-type format with optional fragment identifiers to specify how content should be extracted.

### JSON Files

```json
{
  "context": "application/json",
  "path": "$.name",
  "placeholder": "PACKAGE_NAME"
}
```

Uses JSONPath syntax to extract values from JSON structures.

### Markdown Files

```json
{
  "context": "text/markdown#heading",
  "selector": "h1",
  "placeholder": "CONTENT_TITLE"
}
```

Extract heading text using selector (h1-h6).

```json
{
  "context": "text/markdown#paragraph",
  "selector": "p",
  "placeholder": "CONTENT_DESCRIPTION"
}
```

Extract paragraph text using selector. Use `allowMultiple: false` to limit to first match.

### JSX Files

```json
{
  "context": "text/jsx",
  "selector": "h1:first-child",
  "placeholder": "CONTENT_TITLE"
}
```

Extract text content from JSX elements using CSS selectors. Only targets string literals, not JavaScript expressions.

```json
{
  "context": "text/jsx#attribute",
  "selector": "img[src]",
  "placeholder": "IMAGE_SRC",
  "allowMultiple": true
}
```

Extract attribute values from JSX elements. The attribute name is extracted from the selector (e.g., `[src]` → extract `src` attribute).

### HTML Files

```json
{
  "context": "text/html",
  "selector": "title",
  "placeholder": "PAGE_TITLE"
}
```

Extract text content from HTML elements using CSS selectors.

```json
{
  "context": "text/html#attribute",
  "selector": "meta[name='description'][content]",
  "placeholder": "META_DESCRIPTION"
}
```

## Workflow Integration

### Init Command

```bash
npx make-template init --name "my-template"
# Creates template structure + .templatize.json with comprehensive defaults
```

### Convert Command

```bash
# Apply templatization rules
npx make-template convert . --yes

# Preview changes
npx make-template convert . --dry-run

# Skip auto-detect
npx make-template convert . --no-auto-detect --yes
```

### Scaffold Command

- Ignores `.templatize.json` (template-author-only tool)
- Treats it like `.template-undo.json` - meta content not distributed

## Control Mechanisms

### Skip Regions

```jsx
{
  /* @template-skip */
}
<h1>This content is never templatized</h1>;
{
  /* @end-template-skip */
}
```

### Manual Precedence

Manual placeholders take precedence over auto-detection:

```jsx
<h1>{CONTENT_TITLE}</h1>  // Manual - preserved as-is
<h2>Auto Title</h2>       // Auto-detected → {CONTENT_TITLE}
```
