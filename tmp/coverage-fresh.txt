
> @m5nv/create-scaffold@0.6.0 test:coverage
> c8 --reporter=json-summary --reporter=text --reports-dir tmp/c8-baseline npm test


> @m5nv/create-scaffold@0.6.0 test
> node ./scripts/test-runner.mjs

ğŸš€ Running Complete Test Suite for @m5nv/create-scaffold
============================================================

ğŸ§ª Security Tests
   Security validation for new IDE and features parameters
âœ” Options parameter rejects path traversal attempts (2.398363ms)
âœ” Options parameter rejects injection attempts (0.40836ms)
âœ” Options parameter rejects null byte injection (0.292984ms)
âœ” Options parameter rejects malicious combinations (0.372513ms)
âœ” Options parameter guards against resource exhaustion (0.308061ms)
âœ” validateAllInputs processes safe payloads correctly (2.034786ms)
âœ” validateAllInputs accumulates multiple validation failures (0.431065ms)
âœ” validateAllInputs ignores undefined optional parameters (0.15476ms)
âœ” Validation functions do not expose environment variables (0.2871ms)
âœ” Validation functions do not leak system paths or IP addresses (1.146077ms)
âœ” Input sanitization withstands Unicode and encoded attacks (0.249523ms)
â„¹ tests 11
â„¹ suites 0
â„¹ pass 11
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 144.384271
âœ… Security Tests - 228ms

ğŸ§ª BoundaryValidator Tests
   Path boundary enforcement and traversal prevention
â–¶ BoundaryValidator
  â–¶ Construction
    âœ” creates validator with absolute allowed root (7.142796ms)
    âœ” resolves relative allowed root to absolute (0.990295ms)
  âœ” Construction (9.133568ms)
  â–¶ validatePath() - Valid Paths
    âœ” allows paths within allowed root (1.455037ms)
    âœ” allows absolute paths within allowed root (0.823964ms)
    âœ” allows path exactly at root (0.752172ms)
    âœ” allows nested paths (0.776413ms)
    âœ” normalizes redundant path segments (0.746014ms)
  âœ” validatePath() - Valid Paths (4.915957ms)
  â–¶ validatePath() - Path Traversal Prevention
    âœ” blocks ../ traversal out of root (3.260622ms)
    âœ” blocks multiple ../ traversals (1.056822ms)
    âœ” blocks traversal via allowed path then escape (0.783938ms)
    âœ” blocks absolute paths outside root (2.006819ms)
    âœ” allows ../ that stays within root (0.873935ms)
  âœ” validatePath() - Path Traversal Prevention (8.298098ms)
  â–¶ validatePath() - Null Byte Injection Prevention
    âœ” blocks null byte in path (1.229318ms)
    âœ” blocks null byte at start (0.72669ms)
    âœ” blocks null byte at end (0.625433ms)
  âœ” validatePath() - Null Byte Injection Prevention (2.753465ms)
  â–¶ validatePath() - Input Validation
    âœ” rejects non-string input (0.939784ms)
    âœ” rejects null input (0.684286ms)
    âœ” rejects undefined input (0.720513ms)
    âœ” rejects object input (0.636855ms)
  âœ” validatePath() - Input Validation (3.219513ms)
  â–¶ validatePath() - Error Details
    âœ” error includes operation name (1.216484ms)
    âœ” error includes user path (0.749284ms)
    âœ” error includes resolved path for traversal (1.784996ms)
    âœ” error includes allowed root (0.638272ms)
  âœ” validatePath() - Error Details (4.607054ms)
  â–¶ validatePaths() - Batch Validation
    âœ” validates multiple paths (0.949493ms)
    âœ” throws on first invalid path (0.681304ms)
    âœ” handles empty array (0.565979ms)
  âœ” validatePaths() - Batch Validation (2.371712ms)
  â–¶ getBasename()
    âœ” extracts basename from path (1.020395ms)
    âœ” extracts basename from absolute path (0.686272ms)
    âœ” handles path with no directory (0.591035ms)
    âœ” blocks traversal attempts in getBasename (0.643734ms)
  âœ” getBasename() (3.140757ms)
  â–¶ getAllowedRoot()
    âœ” returns allowed root path (1.301453ms)
    âœ” returns absolute path (0.669163ms)
  âœ” getAllowedRoot() (2.119716ms)
  â–¶ Security Edge Cases
    âœ” blocks Windows-style absolute path on Unix (2.152097ms)
    âœ” handles empty string gracefully (0.683948ms)
    âœ” handles path with spaces (0.598694ms)
    âœ” handles path with unicode characters (0.59973ms)
    âœ” blocks symlink-like patterns (..../ which is valid filename) (0.56974ms)
  âœ” Security Edge Cases (4.834277ms)
  â–¶ BoundaryViolationError
    âœ” is instance of Error (0.870733ms)
    âœ” has correct name (0.570518ms)
    âœ” stores custom properties (0.550957ms)
  âœ” BoundaryViolationError (2.1511ms)
âœ” BoundaryValidator (48.622096ms)
â„¹ tests 40
â„¹ suites 12
â„¹ pass 40
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1161.91098
âœ… BoundaryValidator Tests - 1247ms

ğŸ§ª Registry Cache Manager Tests
   Template registry metadata caching with LRU eviction
â–¶ RegistryCacheManager
  â–¶ Initialization
    âœ” initializes successfully and creates cache directory (7.479701ms)
    âœ” emits initialized event on successful init (1.520834ms)
    âœ” handles initialization failure gracefully (1.279571ms)
    âœ” does not reinitialize if already initialized (1.246867ms)
  âœ” Initialization (12.761232ms)
  â–¶ Basic Cache Operations
    âœ” set() stores data in memory cache (6.825154ms)
    âœ” set() emits cache:set event with key and size (4.281211ms)
    âœ” get() returns null for non-existent key (1.092049ms)
    âœ” get() emits cache:miss for non-existent key (0.985879ms)
    âœ” get() emits cache:hit for existing key (2.481554ms)
    âœ” delete() removes entry from memory cache (3.229839ms)
    âœ” delete() emits cache:deleted event (2.791461ms)
    âœ” clear() removes all cache entries (5.050679ms)
    âœ” clear() emits cache:cleared event with count (4.68352ms)
  âœ” Basic Cache Operations (32.038184ms)
  â–¶ TTL and Expiration
    âœ” expired entries are automatically removed on get() (156.02227ms)
    âœ” get() emits cache:expired for expired entries (105.498392ms)
    âœ” cleanup() removes all expired entries (108.738435ms)
    âœ” cleanup() emits cache:cleanup event with count (108.841509ms)
  âœ” TTL and Expiration (479.505609ms)
  â–¶ Disk Persistence
    âœ” set() persists entry to disk (7.007773ms)
    âœ” getStats() reflects persisted entries (3.695473ms)
    âœ” cache survives reinitialization from disk (3.865871ms)
    âœ” corrupted cache is handled gracefully on reinitialization (3.6334ms)
  âœ” Disk Persistence (18.512532ms)
  â–¶ LRU Eviction
    âœ” evicts old entries when cache size limit is reached (5.008873ms)
    âœ” eviction emits cache:evicted event (4.654836ms)
  âœ” LRU Eviction (9.845389ms)
  â–¶ Cache Statistics
    âœ” getStats() returns current cache statistics (4.580357ms)
    âœ” getStats() counts expired entries correctly (105.3549ms)
  âœ” Cache Statistics (110.153963ms)
  â–¶ Cache Disabled Mode
    âœ” operations are no-ops when cache is disabled (1.56388ms)
  âœ” Cache Disabled Mode (1.727963ms)
  â–¶ Shutdown
    âœ” shutdown() saves metadata and emits event (3.573719ms)
    âœ” shutdown() persists cache state to disk (5.852507ms)
  âœ” Shutdown (9.664455ms)
  â–¶ Additional Edge Cases
    âœ” delete() handles non-existent entry gracefully (1.636163ms)
    âœ” clear() handles empty cache (1.947257ms)
    âœ” get() updates lastAccessed timestamp for LRU (13.568736ms)
    âœ” set() with custom TTL overrides default maxAge (3.054372ms)
    âœ” getStats() calculates hit rate correctly (2.477726ms)
    âœ” loadFromDisk() returns null for non-existent file (1.196431ms)
  âœ” Additional Edge Cases (24.282109ms)
âœ” RegistryCacheManager (699.575478ms)
â„¹ tests 34
â„¹ suites 10
â„¹ pass 34
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 840.7377
âœ… Registry Cache Manager Tests - 915ms

ğŸ§ª Environment Module Tests
   Environment object factory and test utilities
â–¶ Environment Module
  â–¶ createContext()
    âœ” should create a context with required parameters (1.622001ms)
    âœ” should use custom cwd when provided (0.159246ms)
    âœ” should accept custom authoring mode (0.116231ms)
    âœ” should accept custom authorAssetsDir (0.109566ms)
    âœ” should freeze inputs and constants (0.771359ms)
    âœ” should freeze the entire context object (0.30156ms)
    âœ” should throw ContextValidationError for missing projectName (0.204074ms)
    âœ” should throw ContextValidationError for empty projectName (0.140013ms)
    âœ” should throw ContextValidationError for missing projectDirectory (0.280351ms)
    âœ” should throw ContextValidationError for invalid authoring mode (0.143187ms)
  âœ” createContext() (4.989682ms)
  â–¶ isContext()
    âœ” should return true for valid context (0.192897ms)
    âœ” should return false for null (0.092294ms)
    âœ” should return false for undefined (0.066657ms)
    âœ” should return false for object missing required properties (0.085615ms)
    âœ” should return false for object with wrong types (0.101018ms)
    âœ” should return true for manually constructed valid object (0.094048ms)
  âœ” isContext() (0.827876ms)
  â–¶ ContextValidationError
    âœ” should have correct name (0.122348ms)
    âœ” should include message (0.093537ms)
    âœ” should be instanceof Error (0.158395ms)
  âœ” ContextValidationError (0.493189ms)
  â–¶ DEFAULT_AUTHOR_ASSETS_DIR
    âœ” should equal __scaffold__ (0.087248ms)
  âœ” DEFAULT_AUTHOR_ASSETS_DIR (0.157926ms)
  â–¶ DEFAULT_AUTHORING_MODE
    âœ” should equal wysiwyg (0.097775ms)
  âœ” DEFAULT_AUTHORING_MODE (0.158516ms)
âœ” Environment Module (7.308126ms)
â–¶ Testing Utilities
  â–¶ TEST_DEFAULTS
    âœ” should have expected default values (0.117421ms)
    âœ” should be frozen (0.121136ms)
  âœ” TEST_DEFAULTS (0.372949ms)
  â–¶ createTestContext()
    âœ” should create a valid context with defaults (0.225623ms)
    âœ” should allow overriding projectName (0.113284ms)
    âœ” should allow overriding inputs (0.113356ms)
    âœ” should allow overriding multiple properties (0.107113ms)
  âœ” createTestContext() (0.723883ms)
  â–¶ createTestLogger()
    âœ” should create a logger with info and warn methods (0.207466ms)
    âœ” should capture info calls (0.320407ms)
    âœ” should capture warn calls (0.167933ms)
    âœ” should keep info and warn calls separate (0.085948ms)
  âœ” createTestLogger() (0.92151ms)
  â–¶ createSilentLogger()
    âœ” should create a logger with info and warn methods (0.174387ms)
    âœ” should not throw when called (0.179302ms)
  âœ” createSilentLogger() (0.446359ms)
âœ” Testing Utilities (2.681699ms)
â–¶ Tools Module
  â–¶ createTools()
    âœ” should create tools with required projectDirectory (0.769854ms)
    âœ” should create tools with custom inputs (0.183545ms)
  âœ” createTools() (1.088575ms)
  â–¶ isTools()
    âœ” should return true for valid tools object (0.186068ms)
    âœ” should return false for null (0.067827ms)
    âœ” should return false for undefined (0.059929ms)
    âœ” should return false for object missing required APIs (0.075941ms)
  âœ” isTools() (0.521891ms)
  â–¶ createTestTools()
    âœ” should create tools with defaults (0.239176ms)
    âœ” should throw if projectDirectory is missing (0.251601ms)
  âœ” createTestTools() (0.561091ms)
  â–¶ createTestEnvironment()
    âœ” should create both ctx and tools (0.22226ms)
    âœ” should use consistent values between ctx and tools (0.123158ms)
    âœ” should throw if projectDirectory is missing (0.120818ms)
    âœ” should return frozen environment object (0.13437ms)
  âœ” createTestEnvironment() (0.727605ms)
âœ” Tools Module (32.061018ms)
â„¹ tests 45
â„¹ suites 16
â„¹ pass 45
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 154.544158
âœ… Environment Module Tests - 226ms

ğŸ§ª Environment Tools Tests
   L2 tools API (files, json, text, templates, placeholders, inputs, options)
â–¶ tools.files API
  âœ” copy() copies files and directories (15.632084ms)
  âœ” move() renames files (4.856451ms)
  âœ” remove() deletes files (4.327781ms)
  âœ” write() creates new files (5.23943ms)
âœ” tools.files API (31.471208ms)
â–¶ tools.json API
  âœ” read() returns parsed JSON (3.425659ms)
  âœ” set() updates nested paths (4.918844ms)
  âœ” set() supports array index notation in path (5.400041ms)
  âœ” addToArray() appends items (4.544803ms)
  âœ” remove() deletes JSON keys (2.960492ms)
  âœ” update() applies transform function (6.494639ms)
  âœ” mergeArray() merges array items by key (4.593192ms)
âœ” tools.json API (32.845875ms)
â–¶ tools.text API
  âœ” replace() substitutes content (5.871234ms)
  âœ” insertAfter() inserts content after marker (5.023301ms)
  âœ” insertAfter() requires non-empty marker (2.853208ms)
  âœ” insertAfter() throws when target file not found (2.096423ms)
  âœ” insertAfter() throws when marker not found (3.672251ms)
  âœ” replaceBetween() replaces content between markers (3.688167ms)
  âœ” replaceBetween() requires non-empty start and end markers (4.518089ms)
  âœ” replaceBetween() throws when start marker not found (3.310591ms)
  âœ” replaceBetween() throws when end marker not found (3.837794ms)
  âœ” ensureBlock() is idempotent (4.41412ms)
  âœ” appendLines() adds lines to file (4.705371ms)
  âœ” insertAfter() requires block entries to be strings (2.84168ms)
  âœ” replaceBetween() requires block to be string or string array (4.151509ms)
  âœ” replace() with ensureMatch throws if no match found (3.609095ms)
  âœ” replace() allows no match when ensureMatch is false (3.988215ms)
  âœ” replace() requires replacement value to be a string (8.315668ms)
  âœ” replace() handles file not found errors (2.717742ms)
âœ” tools.text API (70.517783ms)
â–¶ tools.templates API
  âœ” renderString() applies placeholder replacements (3.826902ms)
  âœ” renderFile() renders template with data (6.098892ms)
  âœ” copy() copies template assets to project (10.306998ms)
  âœ” renderString() requires template string (3.216721ms)
  âœ” renderString() requires data object (2.522886ms)
  âœ” renderFile() requires data object (2.962297ms)
âœ” tools.templates API (29.483393ms)
â–¶ tools.placeholders API
  âœ” applyInputs() replaces placeholders in files (5.551576ms)
  âœ” replaceAll() replaces custom placeholders (5.388704ms)
  âœ” replaceInFile() replaces placeholders in single file (3.946045ms)
  âœ” replaceAll() requires replacements object (3.194209ms)
  âœ” replaceAll() requires string replacement values (2.258888ms)
âœ” tools.placeholders API (20.627233ms)
â–¶ tools.inputs API
  âœ” get() returns input value with fallback (2.750752ms)
  âœ” all() returns frozen clone of all inputs (2.523462ms)
âœ” tools.inputs API (5.421545ms)
â–¶ tools.options API
  âœ” when() executes callback if option enabled (3.13887ms)
  âœ” when() skips callback if option not enabled (1.965487ms)
  âœ” has() checks if default dimension includes value (2.106438ms)
  âœ” in() checks if dimension includes value (2.086032ms)
  âœ” require() throws if value not selected (2.37958ms)
  âœ” list() returns options for dimension (3.802577ms)
  âœ” raw() returns raw option strings (2.296245ms)
  âœ” dimensions() returns byDimension clone (1.84001ms)
âœ” tools.options API (20.034735ms)
â„¹ tests 49
â„¹ suites 7
â„¹ pass 49
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 329.846222
âœ… Environment Tools Tests - 400ms

ğŸ§ª Error Classes Tests
   Custom error class instantiation and properties
â–¶ Error Classes
  â–¶ ArgumentError
    âœ” creates error with message only (1.615783ms)
    âœ” creates error with field option (0.17105ms)
    âœ” creates error with suggestions option (0.145303ms)
    âœ” creates error with both field and suggestions (0.167892ms)
    âœ” handles empty options object (0.137684ms)
    âœ” handles undefined field in options (0.318138ms)
    âœ” handles null suggestions in options (0.163346ms)
    âœ” handles undefined suggestions in options (0.124655ms)
    âœ” preserves error stack trace (0.354251ms)
  âœ” ArgumentError (4.561472ms)
  â–¶ PreflightError
    âœ” creates error with message only (0.265569ms)
    âœ” creates error with code parameter (0.136108ms)
    âœ” creates error with numeric code (0.954743ms)
    âœ” creates error with null code explicitly (0.103165ms)
    âœ” creates error with undefined code (defaults to null) (0.110167ms)
    âœ” handles empty string code (0.123106ms)
    âœ” preserves error stack trace (0.131578ms)
    âœ” supports instanceof checks (0.091103ms)
  âœ” PreflightError (2.153933ms)
  â–¶ Error Class Interactions
    âœ” distinguishes between ArgumentError and PreflightError (0.134394ms)
    âœ” both error types are instanceof Error (0.09755ms)
    âœ” can be thrown and caught (0.544734ms)
    âœ” can be caught as generic Error (0.209592ms)
  âœ” Error Class Interactions (1.145956ms)
âœ” Error Classes (8.617577ms)
â„¹ tests 21
â„¹ suites 4
â„¹ pass 21
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 132.204051
âœ… Error Classes Tests - 202ms

ğŸ§ª Template Ignore Tests
   Template artifact filtering and tree output sanitization
â–¶ Template Ignore Logic
  â–¶ createTemplateIgnoreSet
    âœ” returns default set when no options provided (1.229666ms)
    âœ” returns default set when empty options object provided (0.237872ms)
    âœ” adds authorAssetsDir to ignore set (0.306978ms)
    âœ” trims whitespace from authorAssetsDir (0.222397ms)
    âœ” ignores empty authorAssetsDir after trimming (0.205287ms)
    âœ” ignores non-string authorAssetsDir (0.127595ms)
    âœ” adds extra entries to ignore set (0.251723ms)
    âœ” trims whitespace from extra entries (0.113629ms)
    âœ” ignores empty extra entries after trimming (0.223994ms)
    âœ” ignores non-string extra entries (0.236246ms)
    âœ” combines authorAssetsDir and extra entries (0.139491ms)
    âœ” handles non-array extra option gracefully (0.084511ms)
    âœ” returns default set when all additions are invalid (0.098951ms)
  âœ” createTemplateIgnoreSet (6.684181ms)
  â–¶ shouldIgnoreTemplateEntry
    âœ” returns true for default ignored entries (0.168622ms)
    âœ” returns false for non-ignored entries (0.085302ms)
    âœ” returns false for non-string input (0.082823ms)
    âœ” uses custom ignore set when provided (0.078435ms)
    âœ” is case-sensitive (0.070427ms)
  âœ” shouldIgnoreTemplateEntry (0.64801ms)
  â–¶ stripIgnoredFromTree
    âœ” removes ignored entries from tree text (exact match after trim) (0.321994ms)
    âœ” removes entries ending with space + ignored name (0.110032ms)
    âœ” removes entries ending with forward slash + ignored name (0.096137ms)
    âœ” removes entries ending with backslash + ignored name (0.089314ms)
    âœ” returns empty string for empty input (0.065656ms)
    âœ” returns input unchanged for non-string input (0.070621ms)
    âœ” uses custom ignore set when provided (0.087124ms)
    âœ” handles entries with spaces in tree output (0.085026ms)
    âœ” removes template.json from tree (0.090747ms)
    âœ” preserves lines that partially match ignored entries (0.082091ms)
    âœ” handles tree with mixed indentation (0.087688ms)
    âœ” trims final result (0.081277ms)
  âœ” stripIgnoredFromTree (1.554589ms)
  â–¶ Integration Scenarios
    âœ” filters template tree with custom author assets (0.131108ms)
    âœ” filters tree with OS-specific artifacts (0.119704ms)
  âœ” Integration Scenarios (0.337637ms)
âœ” Template Ignore Logic (9.984959ms)
â„¹ tests 32
â„¹ suites 5
â„¹ pass 32
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 139.158421
âœ… Template Ignore Tests - 211ms

ğŸ§ª Error Handler Tests
   Error formatting and contextual error handling

âŒ Test error
â–¶ Error Handler
  â–¶ Constants
    âœ” should export ErrorContext constants (0.799245ms)
    âœ” should export ErrorSeverity constants (0.123259ms)
  âœ” Constants (1.791488ms)
  â–¶ ContextualError Class
    âœ” should create ContextualError with default values (0.878068ms)
    âœ” should create ContextualError with custom values (0.263928ms)
  âœ” ContextualError Class (1.253247ms)
  â–¶ formatErrorMessage()
    âœ” should format basic error message (0.438756ms)
    âœ” should include technical details when requested (0.117913ms)
    âœ” should include suggestions when available (0.175641ms)
    âœ” should limit suggestions to maxSuggestions (0.153768ms)
    âœ” should exclude suggestions when includeSuggestions is false (0.184073ms)
  âœ” formatErrorMessage() (1.307562ms)
  â–¶ ErrorMessages
    âœ” should create templateNotFound error (0.334045ms)
    âœ” should create templateInvalidUrl error (0.20145ms)
    âœ” should create validationFailed error (0.116337ms)
    âœ” should create networkError error (0.123395ms)
    âœ” should create filesystemError error (0.12116ms)
    âœ” should create configError error (0.123498ms)
    âœ” should create genericError error (0.121783ms)
    âœ” should create genericError with custom context (0.080159ms)
    âœ” should create unknownCommand error (0.102379ms)
    âœ” should create missingRequiredArgument error (0.116635ms)
    âœ” should create invalidArgumentValue error (0.115348ms)
    âœ” should create commandValidationFailed error (0.113153ms)
  âœ” ErrorMessages (1.966375ms)
  â–¶ handleError()
    âœ” should format and display error without exiting (0.288638ms)
    âœ” should include technical details when requested (0.152167ms)
  âœ” handleError() (0.518939ms)
  â–¶ withErrorHandling()
    âœ” should return result when operation succeeds (0.152796ms)
    âœ” should handle errors and return exit code (0.979497ms)
  âœ” withErrorHandling() (1.21356ms)
  â–¶ contextualizeError()
    âœ” should return ContextualError unchanged (0.167727ms)
    âœ” should convert generic Error to ContextualError (0.601526ms)
    âœ” should apply custom context options (0.194291ms)
  âœ” contextualizeError() (1.090387ms)
âœ” Error Handler (10.704122ms)
â„¹ tests 28
â„¹ suites 8
â„¹ pass 28
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 139.135485
âœ… Error Handler Tests - 208ms

ğŸ§ª Placeholder Resolver Tests
   Placeholder resolution and merging logic
â–¶ Placeholder Resolver
  â–¶ resolvePlaceholders() - Main Function
    âœ” should return empty result for empty definitions (2.061497ms)
    âœ” should return empty result for null definitions (0.140923ms)
    âœ” should resolve from default values (0.275579ms)
    âœ” should resolve from config defaults (0.33244ms)
    âœ” should resolve from environment variables (0.139054ms)
    âœ” should resolve from CLI flags (0.290526ms)
    âœ” should prioritize sources correctly (flag > env > config > default) (0.230128ms)
    âœ” should handle unknown tokens in config defaults (0.266839ms)
    âœ” should handle unknown tokens in flag inputs (0.173565ms)
    âœ” should deduplicate unknown tokens (0.161146ms)
    âœ” should handle sensitive placeholders (0.158146ms)
  âœ” resolvePlaceholders() - Main Function (5.377127ms)
  â–¶ Type Coercion
    âœ” should coerce string values (0.203849ms)
    âœ” should coerce number values from strings (0.144583ms)
    âœ” should coerce number values from numbers (0.123799ms)
    âœ” should coerce boolean values from strings (0.257194ms)
    âœ” should coerce boolean values from booleans (0.115518ms)
    âœ” should reject invalid number values (0.575145ms)
    âœ” should reject empty number values (0.153987ms)
    âœ” should reject invalid boolean values (0.156899ms)
    âœ” should handle null and undefined values (0.217142ms)
  âœ” Type Coercion (2.244569ms)
  â–¶ Interactive Prompting
    âœ” should prompt for required missing placeholders when interactive (0.276316ms)
    âœ” should not prompt when noInputPrompts is true (0.177883ms)
    âœ” should not prompt when interactive is false (0.172554ms)
    âœ” should handle multiple required prompts (0.180835ms)
    âœ” should coerce prompted values (0.148503ms)
  âœ” Interactive Prompting (1.163257ms)
  â–¶ Required Field Validation
    âœ” should throw error for missing required placeholders when not interactive (0.199875ms)
    âœ” should accept missing optional placeholders (0.137447ms)
    âœ” should verify all required placeholders are resolved after prompting (0.090357ms)
  âœ” Required Field Validation (0.575833ms)
  â–¶ Input Validation
    âœ” should reject non-string flag inputs (0.293081ms)
    âœ” should reject malformed flag inputs without equals (0.166101ms)
    âœ” should reject flag inputs with empty token names (0.147605ms)
    âœ” should handle config defaults that are not strings (0.136228ms)
    âœ” should handle config defaults without equals (0.112975ms)
  âœ” Input Validation (1.039707ms)
  â–¶ TTY Detection
    âœ” should detect interactive mode from TTY streams (0.365428ms)
    âœ” should not be interactive when streams are not TTY (0.19609ms)
  âœ” TTY Detection (0.666635ms)
  â–¶ Edge Cases and Error Handling
    âœ” should handle empty config defaults array (0.27891ms)
    âœ” should handle null config defaults (0.111864ms)
    âœ” should handle empty flag inputs array (0.109996ms)
    âœ” should handle null env object (0.10623ms)
    âœ” should handle definitions with duplicate tokens (0.22763ms)
    âœ” should preserve order of report entries (0.272155ms)
  âœ” Edge Cases and Error Handling (1.689479ms)
  â–¶ Integration Tests
    âœ” should handle complex resolution with all sources (0.542946ms)
    âœ” should build correct placeholders array from resolved values (0.177376ms)
  âœ” Integration Tests (0.864333ms)
âœ” Placeholder Resolver (14.618739ms)
â„¹ tests 43
â„¹ suites 9
â„¹ pass 43
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 157.650087
âœ… Placeholder Resolver Tests - 228ms

ğŸ§ª Selection Validator Tests
   Template selection validation logic
âœ” SelectionValidator validates valid selection successfully (9.156117ms)
âœ” SelectionValidator generates correct derived flags (0.892074ms)
âœ” SelectionValidator rejects invalid selection schema (1.10545ms)
âœ” SelectionValidator enforces feature dependencies (1.031193ms)
âœ” SelectionValidator validates dimension values exist (0.883723ms)
âœ” SelectionValidator enforces gates constraints (0.891917ms)
âœ” SelectionValidator handles missing template gracefully (0.792038ms)
âœ” SelectionValidator handles file-based validation (0.575308ms)
âœ” SelectionValidator caches schema files (1.090423ms)
âœ” SelectionValidator provides detailed error messages (0.702796ms)
âœ” SelectionValidator handles empty selections (0.726572ms)
âœ” SelectionValidator validates feature array handling (0.71725ms)
âœ” SelectionValidator handles template with no gates (0.727028ms)
âœ” SelectionValidator handles template with no feature specs (0.888401ms)
â„¹ tests 14
â„¹ suites 0
â„¹ pass 14
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 140.400088
âœ… Selection Validator Tests - 220ms

ğŸ§ª Path Resolver Tests
   Path resolution and M5NV_HOME handling
â–¶ resolveHomeDirectory
  âœ” returns HOME from environment (1.628833ms)
  âœ” returns USERPROFILE on Windows (0.12183ms)
  âœ” prioritizes HOME over USERPROFILE (0.121174ms)
  âœ” falls back to os.homedir() (0.148684ms)
âœ” resolveHomeDirectory (3.275121ms)
â–¶ resolveM5nvBase
  âœ” returns M5NV_HOME when set (0.164445ms)
  âœ” returns ~/.m5nv when M5NV_HOME not set (0.130654ms)
  âœ” prioritizes M5NV_HOME over HOME (0.132626ms)
  âœ” uses default home directory when no env vars set (0.135696ms)
âœ” resolveM5nvBase (1.004372ms)
â–¶ resolveCacheDirectory
  âœ” returns M5NV_HOME/cache when M5NV_HOME set (0.15574ms)
  âœ” returns ~/.m5nv/cache when M5NV_HOME not set (0.107538ms)
âœ” resolveCacheDirectory (0.516705ms)
â–¶ resolveTemplateCacheDirectory
  âœ” returns M5NV_HOME/cache/templates when M5NV_HOME set (0.172182ms)
  âœ” returns ~/.m5nv/cache/templates when M5NV_HOME not set (0.105391ms)
âœ” resolveTemplateCacheDirectory (0.52662ms)
â–¶ resolveUserConfigPath
  âœ” returns M5NV_HOME/rc.json when M5NV_HOME set (0.236402ms)
  âœ” returns ~/.m5nv/rc.json when M5NV_HOME not set (0.217145ms)
âœ” resolveUserConfigPath (1.852244ms)
â–¶ M5NV_HOME integration
  âœ” all paths consistently use M5NV_HOME (0.297745ms)
  âœ” all paths consistently use default ~/.m5nv (0.184523ms)
âœ” M5NV_HOME integration (0.919438ms)
â„¹ tests 22
â„¹ suites 0
â„¹ pass 22
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 136.630976
âœ… Path Resolver Tests - 205ms

ğŸ§ª Functional Tests
   Comprehensive end-to-end CLI behavior validation
âœ” Temporary directories are cleaned up on failure (138.338628ms)
âœ” Temp directory cleanup on verifyTemplate() failure (349.561723ms)
âœ” Temp directory cleanup on copyTemplate() failure (296.930816ms)
âœ” Temp directory cleanup on executeSetupScript() failure (363.980425ms)
âœ” Project directory cleanup when setup script fails after copy (362.432353ms)
âœ” Setup script file cleanup on execution failure (341.749372ms)
âœ” Git process timeout and cleanup behavior (135.645894ms)
âœ” Resource leak detection across multiple failure modes (419.940244ms)
âœ” Resource cleanup on process interruption (1.749255ms)
âœ” Setup script error handling with malformed setup scripts (1337.395553ms)
âœ” Placeholder prompts fail when required values missing with --yes (343.255834ms)
âœ” Successful template creation with local repository (1302.798987ms)
âœ” Setup script execution and cleanup (1290.185952ms)
âœ” Next steps include template-provided handoff instructions (1316.143535ms)
âœ” Next steps fall back to README guidance when metadata absent (1346.821641ms)
âœ” Setup script receives Environment_Object with correct properties (1258.977748ms)
âœ” Placeholder prompts accept env and flag overrides (1323.70087ms)
âœ” Author assets are staged for setup and removed afterwards (1315.241993ms)
âœ” Package name validation in success output (1261.036024ms)
âœ” Comprehensive resource management validation (253.0985ms)
âœ” npm create @m5nv/scaffold command simulation (140.488151ms)
âœ” npx @m5nv/create-scaffold command simulation (138.522023ms)
âœ” Command patterns validate correct usage (823.900289ms)
âœ” Help text displays correct package name and usage patterns (132.776903ms)
âœ” Error messages reference correct package name (130.753478ms)
âœ” Help flag displays usage information (129.933232ms)
âœ” Missing project directory shows error (127.192288ms)
âœ” Missing template flag shows error (149.075381ms)
âœ” Path traversal in project directory is blocked (132.342136ms)
âœ” Path traversal in template URL is blocked (151.723879ms)
âœ” Invalid characters in project directory are rejected (135.479192ms)
âœ” Invalid template URL format is rejected (140.918178ms)
âœ” Invalid template URL with injection characters is rejected (142.014267ms)
âœ” Git installation is verified (148.619216ms)
âœ” Existing directory conflict is detected (146.48755ms)
âœ” Nonexistent template is detected (142.479664ms)
âœ” Missing template in repository is detected (1544.208309ms)
âœ” Error messages are sanitized (133.010513ms)
âœ” File operations prevent symlink attacks (1145.381924ms)
âœ” Argument parsing supports short aliases (139.823711ms)
â„¹ tests 40
â„¹ suites 0
â„¹ pass 40
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 10535.116317
âœ… Functional Tests - 10611ms

ğŸ§ª Template Schema Build Tests
   Deterministic generation of schema types and runtime stubs
âœ” buildTemplateSchema generates TypeScript artifacts (18.949203ms)
âœ” buildTemplateSchema --check detects drift (11.887962ms)
â„¹ tests 2
â„¹ suites 0
â„¹ pass 2
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 150.284631
âœ… Template Schema Build Tests - 225ms

ğŸ§ª Template Validator Tests
   Runtime manifest validation aligned with schema constraints
â–¶ TemplateValidator comprehensive validation
  âœ” validates complete v1.0.0 template successfully (2.741129ms)
  âœ” rejects templates with invalid schema version (0.414708ms)
  âœ” rejects templates with invalid ID format (0.313032ms)
  âœ” validates dimensions schema correctly (0.305118ms)
  âœ” validates gates reference existing dimensions (0.288274ms)
  âœ” validates feature specs reference existing features (0.292368ms)
  âœ” validates feature names follow pattern (0.218082ms)
  âœ” validates hints reference existing features (0.274565ms)
  âœ” validates lenient policy allows schema errors (0.21557ms)
  âœ” handles malformed template gracefully (0.442857ms)
âœ” TemplateValidator comprehensive validation (9.044516ms)
âœ“ Template validation successful
Summary: All checks passed
âœ” validateTemplateManifest returns normalized values for valid template (12.02016ms)
âœ” validateTemplateManifest throws when name is missing (1.011822ms)
âœ” validateTemplateManifest enforces placeholder pattern (0.270939ms)
âœ” validateTemplateManifest rejects invalid placeholder structure (0.263623ms)
âœ” validateTemplateManifest adds canonical placeholders without duplication (0.157998ms)
âœ” validateTemplateManifest merges canonical and template placeholder metadata (0.217272ms)
âœ” validateTemplateManifest rejects unknown canonical variables (0.190931ms)
â–¶ TemplateValidator consumption mode validation
  âœ” validates basic template for consumption (0.225249ms)
  âœ” rejects template missing required fields in consumption mode (0.183601ms)
  âœ” validates template with optional fields in consumption mode (0.15031ms)
  âœ” rejects invalid placeholders structure in consumption mode (0.139689ms)
  âœ” rejects invalid files structure in consumption mode (0.139378ms)
âœ” TemplateValidator consumption mode validation (1.5318ms)
â–¶ TemplateValidator output modes
  âœ” structured output returns result object (0.160404ms)
  âœ” console output does not affect return value (0.583805ms)
âœ” TemplateValidator output modes (1.056885ms)
â„¹ tests 27
â„¹ suites 0
â„¹ pass 27
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 163.31731
âœ… Template Validator Tests - 242ms

ğŸ§ª Options Processor Tests
   Template dimension option normalization used by create-scaffold commands
â–¶ normalizeOptions
  â–¶ basic functionality
    âœ” returns empty result for empty inputs (2.494922ms)
    âœ” initializes dimensions with defaults (0.246634ms)
    âœ” handles single-value dimensions without defaults (0.196136ms)
    âœ” handles multi-value dimensions without defaults (0.170874ms)
  âœ” basic functionality (4.175794ms)
  â–¶ explicit dimension assignment
    âœ” handles single dimension assignment (0.264039ms)
    âœ” handles multi-value dimension assignment (0.194483ms)
    âœ” handles multiple values in multi-dimension (0.137334ms)
    âœ” rejects multiple values for single dimension (0.538141ms)
    âœ” rejects empty value assignment (0.196714ms)
  âœ” explicit dimension assignment (1.544799ms)
  â–¶ catch-all dimension handling
    âœ” uses capabilities as catch-all when present (0.191217ms)
    âœ” uses first multi dimension as catch-all (0.122887ms)
    âœ” treats unknown tokens as unknown when no catch-all (0.105422ms)
  âœ” catch-all dimension handling (0.535899ms)
  â–¶ value validation
    âœ” rejects unknown dimension (0.130911ms)
    âœ” rejects invalid value for strict policy (0.165523ms)
    âœ” warns for invalid value with warn policy (0.13005ms)
  âœ” value validation (0.542126ms)
  â–¶ dependency enforcement
    âœ” enforces single value dependencies (0.222315ms)
    âœ” allows dependencies when satisfied (0.134184ms)
    âœ” enforces multi-value dependencies (0.147451ms)
  âœ” dependency enforcement (0.604997ms)
  â–¶ conflict enforcement
    âœ” enforces single value conflicts (0.185148ms)
    âœ” enforces multi-value conflicts (0.143432ms)
  âœ” conflict enforcement (0.422771ms)
  â–¶ edge cases
    âœ” handles whitespace in tokens (0.134333ms)
    âœ” handles empty values in multi-assignment (0.103888ms)
    âœ” maintains deterministic ordering for multi-values (0.097504ms)
    âœ” handles undefined dimensions parameter (0.093594ms)
    âœ” handles undefined rawTokens parameter (0.084594ms)
  âœ” edge cases (0.644946ms)
âœ” normalizeOptions (10.086551ms)
â„¹ tests 25
â„¹ suites 8
â„¹ pass 25
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 141.766974
âœ… Options Processor Tests - 223ms

ğŸ§ª Config Loader Tests
   .m5nvrc discovery and normalization for create-scaffold defaults
â–¶ Config discovery does NOT walk up directory tree
  âœ” does not load config from parent directory (10.348645ms)
  âœ” does not load config from grandparent directory (4.913208ms)
  âœ” loads config ONLY from current directory (5.924289ms)
  âœ” only checks cwd then user config (no intermediate paths) (7.201304ms)
âœ” Config discovery does NOT walk up directory tree (30.2623ms)
â–¶ Config discovery search order
  âœ” checks cwd/.m5nvrc first (3.493155ms)
  âœ” falls back to user config when cwd config missing (4.202388ms)
âœ” Config discovery search order (8.363579ms)
â–¶ Config discovery documentation
  âœ” documented behavior: cwd then user config only (0.176087ms)
âœ” Config discovery documentation (0.471211ms)
â–¶ ConfigLoader - Templates Normalization
  â–¶ normalizeTemplates - valid configurations
    âœ” loads templates with single mapping (10.559906ms)
    âœ” loads templates with multiple mappings (2.80112ms)
    âœ” trims whitespace from template aliases and paths (2.738472ms)
  âœ” normalizeTemplates - valid configurations (17.257099ms)
  â–¶ normalizeTemplates - validation errors
    âœ” rejects templates as non-object (4.632724ms)
    âœ” rejects templates as array (2.918458ms)
    âœ” rejects empty template alias (2.604669ms)
    âœ” rejects template config as non-object (2.41087ms)
    âœ” rejects template config as array (2.450361ms)
    âœ” rejects template config as null (3.803035ms)
    âœ” rejects non-string template path (3.290931ms)
    âœ” rejects empty template name (2.911924ms)
    âœ” rejects empty template path (2.390953ms)
  âœ” normalizeTemplates - validation errors (28.318517ms)
  â–¶ normalizeRegistries - edge cases
    âœ” rejects non-object registry value that is not typed (3.63014ms)
    âœ” rejects non-string template URL in registry mapping (2.556068ms)
    âœ” rejects empty template name in registry mapping (3.021918ms)
    âœ” rejects empty template URL in registry mapping (2.828676ms)
    âœ” rejects git registry without url field (2.803166ms)
    âœ” rejects local registry without path field (3.945479ms)
  âœ” normalizeRegistries - edge cases (19.416905ms)
âœ” ConfigLoader - Templates Normalization (65.736025ms)
â–¶ ConfigLoader
  â–¶ loadConfig
    âœ” returns null when skip is true (1.09631ms)
    âœ” returns null when no config files exist (7.004835ms)
    âœ” loads project config file when it exists (5.407845ms)
    âœ” loads user config when project config does not exist (2.798614ms)
    âœ” prioritizes project config over user config (3.529952ms)
  âœ” loadConfig (21.201311ms)
  â–¶ Configuration Validation
    âœ” validates repo field (4.114355ms)
    âœ” validates branch field (2.750525ms)
    âœ” validates author field (2.853187ms)
    âœ” validates placeholders field (2.443846ms)
    âœ” validates registries field (3.617791ms)
  âœ” Configuration Validation (16.280762ms)
  â–¶ Error Handling
    âœ” throws on invalid JSON (5.372109ms)
    âœ” throws on invalid repo URL (3.162026ms)
    âœ” throws on invalid branch name (2.146285ms)
    âœ” throws on invalid author object (2.33019ms)
    âœ” throws on invalid placeholders object (2.262714ms)
    âœ” throws on invalid placeholder token (2.21114ms)
    âœ” throws on invalid registries object (3.320863ms)
  âœ” Error Handling (21.335562ms)
  â–¶ Security Validation
    âœ” rejects null bytes in author fields (3.058732ms)
    âœ” rejects newlines in author fields (2.895361ms)
    âœ” rejects null bytes in placeholder values (3.778845ms)
  âœ” Security Validation (10.083547ms)
  â–¶ Path Resolution
    âœ” handles Windows-style paths on Windows (0.187772ms)
    âœ” handles Unix-style paths on Unix-like systems (1.771269ms)
  âœ” Path Resolution (2.124935ms)
  â–¶ Product-Specific Configuration
    âœ” loads product-specific registries (2.903861ms)
    âœ” prioritizes product-specific registries over top-level (2.461635ms)
  âœ” Product-Specific Configuration (5.577851ms)
âœ” ConfigLoader (77.520774ms)
â„¹ tests 52
â„¹ suites 11
â„¹ pass 52
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 205.086791
âœ… Config Loader Tests - 284ms

ğŸ§ª CacheManager Git Tests
   Git-backed cache population, TTL, and cleanup validation
â–¶ CacheManager - git-backed operations
  âœ” populateCache clones repo and writes metadata (376.294827ms)
  âœ” ensureRepositoryCached reuses cached clone and logs cache hits (345.625368ms)
  âœ” refreshCache re-clones repository and preserves TTL configuration (527.801068ms)
  âœ” getCachedRepo returns null when cache entry is expired (352.412796ms)
  âœ” clearExpiredEntries removes expired and corrupted caches (353.992223ms)
âœ” CacheManager - git-backed operations (1957.913292ms)
â„¹ tests 5
â„¹ suites 1
â„¹ pass 5
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 2079.740443
âœ… CacheManager Git Tests - 2154ms

ğŸ§ª TemplateResolver Git Tests
   Git-backed template resolution and alias refresh validation
â–¶ TemplateResolver - git-backed integration
  âœ” resolveTemplate clones git repositories via direct URLs and reads metadata (304.302792ms)
  âœ” resolveTemplate refreshes expired caches when resolving registry aliases (340.849903ms)
  âœ” resolveTemplate handles GitHub shorthand with explicit branch (271.771718ms)
  âœ” resolveTemplate uses cache on second access (299.890645ms)
  âœ” validateTemplateUrl rejects null bytes (203.605401ms)
  âœ” validateTemplateUrl rejects shell metacharacters (206.551258ms)
  âœ” validateTemplateUrl rejects path traversal attempts (205.635104ms)
  âœ” parseTemplateUrl handles local paths (199.820168ms)
  âœ” parseTemplateUrl handles GitHub shorthand variations (201.624741ms)
  âœ” parseTemplateUrl handles registry URLs (204.386157ms)
  âœ” parseFullUrl handles GitHub URLs with tree paths (200.725286ms)
  âœ” parseFullUrl handles GitHub URLs without tree paths (208.071037ms)
  âœ” parseFullUrl handles tarball URLs (203.123203ms)
  âœ” resolveToPath throws on unsupported github-archive type (239.741877ms)
  âœ” resolveToPath throws on unsupported tarball type (254.920365ms)
  âœ” resolveToPath throws on completely unsupported type (242.503334ms)
  âœ” resolveRegistryAlias returns original URL when no config (220.986408ms)
  âœ” resolveRegistryAlias handles legacy registries format (0.832669ms)
  âœ” resolveRegistryAlias ignores non-legacy registry formats (0.726211ms)
  âœ” resolveRegistryAlias returns original when template not in alias (0.704298ms)
âœ” TemplateResolver - git-backed integration (4013.274228ms)
â„¹ tests 20
â„¹ suites 1
â„¹ pass 20
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 4136.646328
âœ… TemplateResolver Git Tests - 4212ms

ğŸ§ª Base Command Tests
   Command template method pattern tests
â–¶ Command
  âœ” should show basic help (1.43847ms)
  âœ” should show detailed help (0.3602ms)
  âœ” should parse help flag (0.250874ms)
  âœ” should execute help when --help provided (0.301477ms)
  âœ” should parse custom arguments (0.183453ms)
  âœ” should execute run method (0.250251ms)
  âœ” should reject unknown arguments with error (0.559114ms)
  âœ” should format option flags correctly (0.171907ms)
  âœ” should require subclass to implement parseArg (0.16723ms)
  âœ” should require subclass to implement run (0.229376ms)
âœ” Command (5.875689ms)
â„¹ tests 10
â„¹ suites 1
â„¹ pass 10
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 133.850769
âœ… Base Command Tests - 210ms

ğŸ§ª Router Tests
   Command dispatch router tests
â–¶ Router
  âœ” should show general help when no args provided (1.556761ms)
  âœ” should show help with --help flag (0.24946ms)
  âœ” should show version with --version flag (0.234248ms)
  âœ” should route to command (0.391966ms)
  âœ” should show error for unknown command (0.354766ms)
  âœ” should show command help with help command (0.305682ms)
âœ” Router (4.703508ms)
â„¹ tests 6
â„¹ suites 1
â„¹ pass 6
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 123.362921
âœ… Router Tests - 194ms

ğŸ§ª Resource Leak Tests
   Resource management and cleanup validation
âœ” temp directory cleanup on invalid template (138.938099ms)
âœ” temp directory cleanup on invalid repository (128.858472ms)
âœ” temp directory cleanup on nonexistent repository (121.355698ms)
âœ” resource cleanup across multiple failure scenarios (344.705467ms)
â„¹ tests 4
â„¹ suites 0
â„¹ pass 4
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 846.701691
âœ… Resource Leak Tests - 919ms

ğŸ§ª Create-Scaffold New Tests
   Create-scaffold new command unit tests
â–¶ NewCommand
  âœ” requires project-name argument (4.185951ms)

ğŸš€ Guided Project Setup
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Project: myapp
ğŸ“¦ template: null
ğŸ”— Source: million-views/packages (main)
ğŸ“Š Progress: 0/12 steps


âŒ Initialization failed:
   template path not resolved

Recovery options:
   1. Retry this step
   2. Skip this step and continue
   3. Abort the entire setup
Choose an option:
   1. Retry this step
   2. Skip this step and continue
   3. Abort the entire setup
ğŸ”„ Initialization - Attempt 1/3

âŒ Validation failed:
   Template not accessible

ğŸ’¥ Setup workflow failed!
Error: Template not accessible

Cleanup options:
   1. Clean up partial setup (recommended)
   2. Leave files as-is for manual recovery
   3. Show detailed error log
Choose cleanup option:
   1. Clean up partial setup (recommended)
   2. Leave files as-is for manual recovery
   3. Show detailed error log
Partial setup cleaned up.
  âœ” requires --template option (15.65936ms)
  âœ” parses project name and template (0.204955ms)
  âœ” shows help with --help flag (0.396075ms)
  â–¶ Integration Tests
    âœ” handles placeholder arguments (1.154088ms)
    âœ” handles cache options (0.165899ms)
    âœ” handles configuration options (0.153928ms)
    âœ” handles log file option (0.182916ms)
  âœ” Integration Tests (1.960603ms)
âœ” NewCommand (24.051151ms)
â„¹ tests 8
â„¹ suites 2
â„¹ pass 8
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1171.86473
âœ… Create-Scaffold New Tests - 1247ms

ğŸ§ª Dry Run CLI Tests
   End-to-end dry-run previews for local and cached templates
âœ” dry-run CLI preview with local template path (1132.261051ms)
âœ” dry-run CLI preview with cached repository template (1372.253176ms)
â„¹ tests 2
â„¹ suites 0
â„¹ pass 2
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 2624.719138
âœ… Dry Run CLI Tests - 2702ms

ğŸ§ª Create-Scaffold List Tests
   Create-scaffold list command unit tests
â–¶ ListCommand
  âœ” shows help with --help flag (1.505292ms)
  âœ” parses registry option (0.236279ms)
  âœ” parses format option (0.135307ms)
  âœ” parses verbose flag (0.120417ms)
âœ” ListCommand (3.419037ms)
â„¹ tests 4
â„¹ suites 1
â„¹ pass 4
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 131.70336
âœ… Create-Scaffold List Tests - 210ms

ğŸ§ª Create-Scaffold Validate Tests
   Create-scaffold validate command unit tests
â–¶ ValidateCommand
  âœ” requires template-path argument (4.857093ms)
  âœ” shows help with --help flag (0.597415ms)
  âœ” parses suggest flag (0.187344ms)
âœ” ValidateCommand (6.994847ms)
â„¹ tests 3
â„¹ suites 1
â„¹ pass 3
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1137.099028
âœ… Create-Scaffold Validate Tests - 1214ms

ğŸ§ª Make-Template Init Tests
   Template initialization and skeleton generation
â–¶ make-template init command
  âœ” init generates valid skeleton template.json (630.13426ms)
  âœ” init with custom filename works (621.877469ms)
  âœ” init fails when file already exists (590.142649ms)
  âœ” init --help shows help text (609.891383ms)
  âœ” init provides next steps guidance (612.745562ms)
âœ” make-template init command (3073.893505ms)
â„¹ tests 6
â„¹ suites 0
â„¹ pass 6
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 3197.436228
âœ… Make-Template Init Tests - 3276ms

ğŸ§ª Make-Template Hints Tests
   Template authoring guidance and hints display
â–¶ make-template hints command
  âœ” hints displays catalog header (623.050083ms)
  âœ” hints shows comprehensive feature list (608.206999ms)
  âœ” hints provides usage guidance (638.711397ms)
  âœ” hints --help shows help text (614.629305ms)
  âœ” hints shows template authoring context (599.361628ms)
  âœ” hints output is well-formatted (606.906181ms)
âœ” make-template hints command (3697.66357ms)
â„¹ tests 7
â„¹ suites 0
â„¹ pass 7
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 3823.482928
âœ… Make-Template Hints Tests - 3903ms

ğŸ§ª Make-Template Convert Tests
   Project to template conversion functionality
âœ” convert --dry-run shows preview without changes (754.039583ms)
âŒ Project must have package.json: /Users/vijay/workspaces/ws-million-views/create/tmp/make-template-convert-no-package-1764095443738/empty-dir
âœ” convert requires package.json (660.346415ms)
âŒ This appears to be a development repository:
   â€¢ Git repository (.git directory found)
   â€¢ Node modules installed (node_modules directory found)

ğŸ’¡ Use --yes to proceed anyway, or ensure you're converting a clean project directory.
âœ” convert detects development repository (745.825063ms)
âœ” convert succeeds with --yes flag on development repo (768.870071ms)
âœ” convert --help shows help text (761.264934ms)
âœ” convert creates template.json (765.539478ms)
âœ” convert creates undo log (696.507355ms)
âœ” convert handles existing undo log (766.400198ms)
â„¹ tests 8
â„¹ suites 0
â„¹ pass 8
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 6053.560331
âœ… Make-Template Convert Tests - 6128ms

ğŸ§ª Make-Template Restore Tests
   Template to project restoration functionality
âœ” restore requires undo log (612.233109ms)
âœ” restore --dry-run shows preview without changes (626.899652ms)
âœ” restore --help shows help text (620.733608ms)
âœ” restore performs restoration (636.249143ms)
âœ” restore cleans up artifacts (630.28447ms)
âœ” restore handles missing files gracefully (684.116565ms)
âœ” restore --files option works (629.677105ms)
âœ” restore --files option parses comma-separated list (638.685314ms)
âœ” restore --placeholders-only option works (682.064082ms)
â„¹ tests 9
â„¹ suites 0
â„¹ pass 9
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 5883.657082
âœ… Make-Template Restore Tests - 5972ms

ğŸ§ª Make-Template Test Command Tests
   Template testing with create-scaffold integration
â–¶ make-template test command
  âœ” test requires template path (593.143834ms)
  âœ” test --help shows help text (614.974303ms)
  âœ” test validates template exists (605.660837ms)
  âœ” test validates template.json exists (603.070566ms)
  âœ” test performs basic template validation (675.40504ms)
  âœ” test --verbose provides detailed output (676.600051ms)
  âœ” test --keep-temp preserves temporary directories (689.647777ms)
  âœ” test handles invalid template gracefully (679.958052ms)
  âœ” test shows progress indicators (697.347475ms)
âœ” make-template test command (5841.837094ms)
â„¹ tests 10
â„¹ suites 0
â„¹ pass 10
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 5961.71795
âœ… Make-Template Test Command Tests - 6037ms

ğŸ§ª Make-Template Validate Tests
   Template validation and schema compliance
â–¶ make-template CLI validate integration
  âœ” validate validates valid template.json successfully (637.485799ms)
  âœ” validate rejects invalid schema template.json (836.107548ms)
  âœ” validate rejects invalid domain template.json (620.716056ms)
  âœ” validate handles missing template.json file (593.406996ms)
  âœ” validate defaults to template.json when no file specified (635.268054ms)
  âœ” validate provides detailed error messages (622.684538ms)
  âœ” validate shows warnings when present (607.53558ms)
âœ” make-template CLI validate integration (4560.382282ms)
â„¹ tests 8
â„¹ suites 0
â„¹ pass 8
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 4679.049149
âœ… Make-Template Validate Tests - 4756ms

ğŸ§ª Make-Template Config Validate Tests
   .templatize.json configuration validation CLI coverage
â–¶ make-template config validate command
  âœ” validates default .templatize.json successfully (629.487091ms)
  âœ” uses positional argument for custom config path (619.783642ms)
  âœ” exits with failure for invalid JSON (601.620531ms)
âœ” make-template config validate command (1853.030755ms)
â„¹ tests 4
â„¹ suites 0
â„¹ pass 4
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1969.004458
âœ… Make-Template Config Validate Tests - 2045ms

ğŸ§ª Templatize JSX Tests
   JSX/TSX file templatization with AST parsing
â–¶ JSX Processor - Basic functionality
  âœ” should process simple JSX with text content (10.851075ms)
  âœ” should process JSX with attributes (2.229411ms)
  âœ” should ignore JSX expressions (1.989809ms)
  âœ” should respect allowMultiple flag (2.104752ms)
  âœ” should handle skip comments (1.095466ms)
  âœ” should handle malformed JSX gracefully (1.199832ms)
  âœ” should return empty array for files without matches (0.727205ms)
âœ” JSX Processor - Basic functionality (22.42783ms)
â–¶ JSX Processor - Edge cases
  âœ” should handle empty JSX (0.272361ms)
  âœ” should handle JSX fragments (0.784234ms)
  âœ” should handle nested components (1.165657ms)
âœ” JSX Processor - Edge cases (2.698953ms)
â–¶ JSX Processor - Selector specificity
  âœ” should respect :first-child selectors (1.244459ms)
  âœ” should handle class and data attribute selectors (1.088394ms)
  âœ” should skip content within @template-skip regions (2.14347ms)
  âœ” should handle // @template-skip comments in JS files (1.423108ms)
âœ” JSX Processor - Selector specificity (6.45125ms)
â„¹ tests 17
â„¹ suites 0
â„¹ pass 17
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 188.034501
âœ… Templatize JSX Tests - 266ms

ğŸ§ª Templatize JSON Tests
   JSON file templatization with JSONPath support
â–¶ JSON Processor - Basic functionality
  âœ” should process simple JSON with string values (3.916165ms)
  âœ” should process nested JSON structures (1.35682ms)
  âœ” should handle array elements with wildcards (0.588318ms)
  âœ” should respect allowMultiple flag (0.455242ms)
  âœ” should handle malformed JSON gracefully (0.17543ms)
  âœ” should return empty array for files without matches (0.232436ms)
  âœ” should handle empty JSON objects (0.167212ms)
âœ” JSON Processor - Basic functionality (8.644553ms)
â–¶ JSON Processor - Edge cases
  âœ” should handle complex nested structures (0.417914ms)
  âœ” should handle mixed data types (0.384052ms)
  âœ” should handle deeply nested paths (0.186354ms)
âœ” JSON Processor - Edge cases (1.375951ms)
â–¶ JSON Processor - JSONPath validation
  âœ” should handle invalid JSONPath gracefully (0.169229ms)
  âœ” should handle non-existent paths (0.143726ms)
  âœ” should validate JSONPath syntax (0.547736ms)
  âœ” should skip content within // @template-skip regions (0.281466ms)
âœ” JSON Processor - JSONPath validation (1.751454ms)
â„¹ tests 17
â„¹ suites 0
â„¹ pass 17
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 137.461949
âœ… Templatize JSON Tests - 214ms

ğŸ§ª Templatize Markdown Tests
   Markdown file templatization with regex patterns
â–¶ Templatize Markdown Tests
  â–¶ Markdown Processor - Basic functionality
    âœ” should process simple markdown with heading content (4.804096ms)
    âœ” should process markdown with multiple headings (0.909367ms)
    âœ” should process frontmatter YAML (8.000401ms)
    âœ” should respect allowMultiple flag (0.419025ms)
    âœ” should handle skip comments (0.445588ms)
    âœ” should handle malformed markdown gracefully (0.306159ms)
    âœ” should return empty array for files without matches (0.259691ms)
  âœ” Markdown Processor - Basic functionality (16.620867ms)
  â–¶ Markdown Processor - Edge cases
    âœ” should handle empty markdown (0.209068ms)
    âœ” should handle markdown with only frontmatter (0.50789ms)
    âœ” should handle nested frontmatter structures (1.368166ms)
  âœ” Markdown Processor - Edge cases (2.231326ms)
  â–¶ Markdown Processor - Content types
    âœ” should handle code blocks (0.400072ms)
    âœ” should handle inline code (0.286618ms)
    âœ” should handle links (0.285413ms)
    âœ” should handle images (0.278491ms)
  âœ” Markdown Processor - Content types (1.386305ms)
  â–¶ Markdown Processor - Selector validation
    âœ” should handle invalid selectors gracefully (0.227952ms)
    âœ” should validate frontmatter paths (0.401414ms)
    âœ” should skip content within <!-- @template-skip --> regions (0.740686ms)
  âœ” Markdown Processor - Selector validation (1.483264ms)
âœ” Templatize Markdown Tests (22.391594ms)
â„¹ tests 17
â„¹ suites 5
â„¹ pass 17
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 199.262998
âœ… Templatize Markdown Tests - 275ms

ğŸ§ª Templatize HTML Tests
   HTML file templatization with DOM parsing
â–¶ HTML Processor - Basic functionality
  âœ” should process simple HTML with heading content (106.63613ms)
  âœ” should process HTML with attributes (35.755195ms)
  âœ” should respect allowMultiple flag (44.563198ms)
  âœ” should skip content with existing placeholders (30.547701ms)
  âœ” should handle malformed HTML gracefully (27.088701ms)
  âœ” should return empty array for files without matches (21.678537ms)
âœ” HTML Processor - Basic functionality (268.151298ms)
â–¶ HTML Processor - Edge cases
  âœ” should handle empty HTML (24.977795ms)
  âœ” should handle HTML with only text (29.911753ms)
  âœ” should handle nested elements (34.055486ms)
âœ” HTML Processor - Edge cases (89.563004ms)
â–¶ HTML Processor - Selector specificity
  âœ” should handle class selectors (25.791906ms)
  âœ” should handle complex selectors (8.271031ms)
âœ” HTML Processor - Selector specificity (34.46349ms)
â–¶ HTML Processor - Selector validation
  âœ” should handle invalid selectors gracefully (9.928929ms)
  âœ” should validate selector syntax (7.803365ms)
  âœ” should skip content within <!-- @template-skip --> regions (14.259069ms)
âœ” HTML Processor - Selector validation (32.539027ms)
â„¹ tests 18
â„¹ suites 0
â„¹ pass 18
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 1056.007181
âœ… Templatize HTML Tests - 1134ms

ğŸ§ª E2E Hermetic Isolation Tests
   End-to-end hermetic test environment validation
âœ” M5NV_HOME isolation - make-template uses isolated environment (734.363116ms)
âœ” M5NV_HOME isolation - create-scaffold uses isolated environment (144.159508ms)
âœ” Multiple test environments are isolated from each other (1372.910349ms)
âœ” Test artifacts are confined to tmp/ directory (2.355477ms)
âœ” Cleanup removes all test artifacts (5.365152ms)
â„¹ tests 5
â„¹ suites 0
â„¹ pass 5
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 2382.081554
âœ… E2E Hermetic Isolation Tests - 2457ms

ğŸ§ª E2E Tutorial Workflows Tests
   End-to-end tutorial workflow integration tests
âœ” Tutorial: Getting Started - Verify CLI tools accessible (741.718538ms)
âœ” Tutorial: make-template - Basic React SPA workflow (2856.288646ms)
âœ” Tutorial: make-template - Marketing website with multiple placeholders (1408.256931ms)
âœ” Tutorial: create-scaffold - Scaffold from local template (1147.614036ms)
âœ” Tutorial: create-scaffold - Registry configuration and list (1309.341862ms)
âœ” Complete workflow: create â†’ convert â†’ scaffold â†’ verify (3211.311826ms)
â„¹ tests 6
â„¹ suites 0
â„¹ pass 6
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 10795.346473
âœ… E2E Tutorial Workflows Tests - 10872ms

ğŸ§ª E2E Guided Workflow Tests
   Guided workflow coverage for setup runtime and sandbox enforcement
âœ… Project created successfully!

ğŸ“‚ Next steps:
  cd guided-e2e-app
  - Review README.md for additional instructions

âœ” Guided workflow executes setup runtime tools end-to-end (133.716156ms)
âœ… Project created successfully!

ğŸ“‚ Next steps:
  cd sandbox-app
  - Review README.md for additional instructions

âœ” Guided workflow logs sandbox violations without blocking scaffolding (28.914099ms)
â„¹ tests 2
â„¹ suites 0
â„¹ pass 2
â„¹ fail 0
â„¹ cancelled 0
â„¹ skipped 0
â„¹ todo 0
â„¹ duration_ms 311.674503
âœ… E2E Guided Workflow Tests - 397ms

============================================================
ğŸ“Š TEST SUITE SUMMARY
============================================================
âœ… Security Tests                 228ms
âœ… BoundaryValidator Tests        1247ms
âœ… Registry Cache Manager Tests   915ms
âœ… Environment Module Tests       226ms
âœ… Environment Tools Tests        400ms
âœ… Error Classes Tests            202ms
âœ… Template Ignore Tests          211ms
âœ… Error Handler Tests            208ms
âœ… Placeholder Resolver Tests     228ms
âœ… Selection Validator Tests      220ms
âœ… Path Resolver Tests            205ms
âœ… Functional Tests               10611ms
âœ… Template Schema Build Tests    225ms
âœ… Template Validator Tests       242ms
âœ… Options Processor Tests        223ms
âœ… Config Loader Tests            284ms
âœ… CacheManager Git Tests         2154ms
âœ… TemplateResolver Git Tests     4212ms
âœ… Base Command Tests             210ms
âœ… Router Tests                   194ms
âœ… Resource Leak Tests            919ms
âœ… Create-Scaffold New Tests      1247ms
âœ… Dry Run CLI Tests              2702ms
âœ… Create-Scaffold List Tests     210ms
âœ… Create-Scaffold Validate Tests 1214ms
âœ… Make-Template Init Tests       3276ms
âœ… Make-Template Hints Tests      3903ms
âœ… Make-Template Convert Tests    6128ms
âœ… Make-Template Restore Tests    5972ms
âœ… Make-Template Test Command Tests 6037ms
âœ… Make-Template Validate Tests   4756ms
âœ… Make-Template Config Validate Tests 2045ms
âœ… Templatize JSX Tests           266ms
âœ… Templatize JSON Tests          214ms
âœ… Templatize Markdown Tests      275ms
âœ… Templatize HTML Tests          1134ms
âœ… E2E Hermetic Isolation Tests   2457ms
âœ… E2E Tutorial Workflows Tests   10872ms
âœ… E2E Guided Workflow Tests      397ms
============================================================
ğŸ“ˆ Results: 39 passed, 0 failed
â±ï¸  Total time: 76700ms

âœ… All test suites passed!

ğŸ‰ CLI tool is ready for production!
---------------------------------------|---------|----------|---------|---------|-------------------
File                                   | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
---------------------------------------|---------|----------|---------|---------|-------------------
All files                              |   79.75 |    73.49 |   85.88 |   79.75 |                   
 bin/create-scaffold                   |     100 |      100 |     100 |     100 |                   
  index.mjs                            |     100 |      100 |     100 |     100 |                   
 bin/create-scaffold/commands/list     |   80.09 |    35.13 |     100 |   80.09 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   81.08 |       75 |     100 |   81.08 | 21-23,34-37       
  registry-fetcher.js                  |   69.23 |    21.42 |     100 |   69.23 | ...02-103,105-106 
 bin/create-scaffold/commands/new      |   85.53 |    79.71 |   76.92 |   85.53 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   89.91 |       88 |     100 |   89.91 | ...01-102,116-119 
  scaffolder.js                        |   80.33 |    74.71 |   66.66 |   80.33 | ...75-383,438-449 
 bin/create-scaffold/commands/validate |   64.22 |    66.66 |     100 |   64.22 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   52.17 |    63.63 |     100 |   52.17 | ...79,82-84,89-92 
 bin/create-scaffold/modules           |   78.18 |    73.15 |   90.75 |   78.18 |                   
  cache-manager.mjs                    |   81.39 |    60.81 |     100 |   81.39 | ...52-455,458-460 
  config-loader.mjs                    |   80.54 |    81.29 |     100 |   80.54 | ...82-386,397-401 
  dry-run-engine.mjs                   |   92.93 |       60 |     100 |   92.93 | ...70-271,277-278 
  guided-setup-workflow.mjs            |   74.89 |    69.67 |   87.71 |   74.89 | ...1368,1386-1388 
  options-processor.mjs                |   90.81 |     82.5 |     100 |   90.81 | ...,89-98,194-195 
  setup-runtime.mjs                    |   91.87 |       56 |   71.42 |   91.87 | ...09-112,118-119 
  template-resolver.mjs                |   68.38 |    79.46 |   84.61 |   68.38 | ...21-678,710-716 
 bin/create-scaffold/modules/registry  |   97.55 |     87.3 |     100 |   97.55 |                   
  cache-manager.mjs                    |   97.55 |     87.3 |     100 |   97.55 | ...18-219,284-285 
 bin/make-template                     |     100 |      100 |     100 |     100 |                   
  index.mjs                            |     100 |      100 |     100 |     100 |                   
 ...-template/commands/config/validate |     100 |      100 |     100 |     100 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |     100 |      100 |     100 |     100 |                   
 bin/make-template/commands/convert    |   81.61 |    66.17 |   94.73 |   81.61 |                   
  converter.js                         |   78.35 |    65.74 |   93.33 |   78.35 | ...48-549,556-557 
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   79.66 |    73.68 |     100 |   79.66 | ...26,28-29,56-59 
  validator.js                         |   76.47 |       50 |     100 |   76.47 | ...11,18-19,24-25 
 bin/make-template/commands/hints      |    98.6 |      100 |   66.66 |    98.6 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   98.47 |      100 |   66.66 |   98.47 | 10-11             
 bin/make-template/commands/init       |      96 |    86.66 |     100 |      96 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   93.24 |    85.71 |     100 |   93.24 | 17-21             
 bin/make-template/commands/restore    |   87.09 |    82.35 |     100 |   87.09 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   71.69 |    85.71 |     100 |   71.69 | 24-34,50-53       
  restorer.js                          |   85.34 |    78.94 |     100 |   85.34 | ...00-111,113-114 
 bin/make-template/commands/test       |   80.91 |    83.33 |     100 |   80.91 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   77.22 |    82.75 |     100 |   77.22 | ...84,191,199-202 
 bin/make-template/commands/validate   |   85.27 |    76.92 |     100 |   85.27 |                   
  help.js                              |     100 |      100 |     100 |     100 |                   
  index.js                             |   78.65 |       76 |     100 |   78.65 | ...73,75-78,86-89 
 lib                                   |   76.33 |    70.86 |    76.5 |   76.33 |                   
  boundary-validator.mjs               |   77.27 |      100 |   72.72 |   77.27 | ...51-186,197-198 
  error-classes.mjs                    |     100 |      100 |     100 |     100 |                   
  error-handler.mjs                    |   97.19 |     86.2 |     100 |   97.19 | ...46-347,351-352 
  logger.mjs                           |   61.34 |    44.44 |   42.85 |   61.34 | ...21-536,543-548 
  path-resolver.mjs                    |     100 |      100 |     100 |     100 |                   
  placeholder-formats.mjs              |    85.2 |    72.22 |      75 |    85.2 | ...37-238,245-250 
  placeholder-resolver.mjs             |    81.6 |    86.74 |      60 |    81.6 | ...60-270,272-299 
  placeholder-schema.mjs               |   59.75 |    37.03 |     100 |   59.75 | ...21-125,128-161 
  security-audit-logger.mjs            |      75 |    77.77 |   66.66 |      75 | ...33-138,160-164 
  security-gate.mjs                    |   84.73 |    71.87 |   83.33 |   84.73 | ...50-251,257-261 
  security.mjs                         |   59.46 |    60.96 |   57.14 |   59.46 | ...1144,1146-1147 
  template-discovery.mjs               |   62.41 |    42.59 |   64.28 |   62.41 | ...43-546,551-555 
  template-ignore.mjs                  |   98.16 |    96.42 |     100 |   98.16 | 96-97             
  template-manifest-validator.mjs      |   56.17 |     67.3 |     100 |   56.17 | ...88-189,200-201 
  templatize-config.mjs                |   81.73 |       50 |   77.77 |   81.73 | ...46-347,400-427 
  templatize-html.mjs                  |   82.28 |    75.55 |     100 |   82.28 | ...43-265,267-268 
  templatize-json.mjs                  |   91.66 |    77.77 |     100 |   91.66 | ...22-123,150-152 
  templatize-jsx.mjs                   |   91.43 |    75.75 |   92.85 |   91.43 | ...64-366,377-378 
  templatize-markdown.mjs              |   96.08 |    85.29 |     100 |   96.08 | ...82-484,501-502 
 lib/cli                               |   88.88 |     91.3 |    90.9 |   88.88 |                   
  command.js                           |      84 |     90.9 |    87.5 |      84 | ...,71-85,144-145 
  router.js                            |   95.49 |    91.66 |     100 |   95.49 | 39-41,50-51       
 lib/environment                       |   95.71 |    83.87 |     100 |   95.71 |                   
  context.mjs                          |   98.88 |     87.5 |     100 |   98.88 | 132-133           
  index.mjs                            |     100 |      100 |     100 |     100 |                   
  testing.mjs                          |     100 |      100 |     100 |     100 |                   
  utils.mjs                            |   89.22 |    78.66 |     100 |   89.22 | ...18,250-252,257 
 lib/environment/tools                 |   90.25 |    76.07 |   97.33 |   90.25 |                   
  files.mjs                            |   90.29 |    72.22 |     100 |   90.29 | ...72,74-75,84-91 
  index.mjs                            |     100 |      100 |      50 |     100 |                   
  inputs.mjs                           |   95.55 |       75 |     100 |   95.55 | 29-30             
  json.mjs                             |   86.31 |       75 |     100 |   86.31 | ...92-293,314-321 
  logger.mjs                           |   95.23 |     87.5 |     100 |   95.23 | 19-20             
  options.mjs                          |   88.09 |    64.81 |     100 |   88.09 | ...73-174,184-185 
  placeholders.mjs                     |   92.17 |    66.66 |     100 |   92.17 | ...64-165,169-170 
  templates.mjs                        |   93.69 |     87.5 |     100 |   93.69 | 33-37,42-43       
  text.mjs                             |   89.21 |    82.69 |     100 |   89.21 | ...11-212,218-221 
 lib/utils                             |   59.28 |    63.33 |   47.05 |   59.28 |                   
  file.mjs                             |   52.47 |    59.09 |   43.75 |   52.47 | ...39-346,355-362 
  shell.mjs                            |   89.15 |       75 |     100 |   89.15 | 43-45,62-63,75-78 
 lib/validation                        |    64.3 |     74.4 |   83.87 |    64.3 |                   
  selection-validator.mjs              |   86.81 |    69.49 |     100 |   86.81 | ...30-243,266-279 
  template-validator.mjs               |   54.78 |    77.06 |   73.68 |   54.78 | ...59-915,926-950 
 scripts                               |   85.77 |    53.03 |   84.21 |   85.77 |                   
  build-template-schema.mjs            |   88.65 |       50 |    90.9 |   88.65 | ...64-374,378-379 
  test-runner.mjs                      |   83.65 |    59.09 |      75 |   83.65 | ...52,499-511,514 
---------------------------------------|---------|----------|---------|---------|-------------------
